import{Q as ue}from"./QPage-B1NR2vct.js";import{C as y,a as W,c as ne,u as G,b as oe,G as R,g as re}from"./decoder-hAEFPFU1.js";import{d as q,c as x,X as S,U as h,V as u,Y as K,Z as z,F as _,_ as M,f as l,$ as P,a0 as c,r as N,a1 as C,a2 as A,i as L,Q as ee,a3 as de,a4 as se,R as ve}from"./index-CC1YTvc1.js";import{u as V}from"./cpu-CfFDOd4d.js";import"./render-Bl9N5OwX.js";const ie={id:"alu",style:{transform:"translate(984px, 400px)"}},me=1,pe=2,ce=3,ye=q({__name:"ALU",props:{select:{type:Number,required:!0},flagZ:{type:Boolean,required:!0},flagO:{type:Boolean,required:!0}},emits:["update:flagZ","update:flagO"],setup(e,{emit:a}){const t=e,n=a,b=x(()=>t.select===me),g=x(()=>t.select===pe),r=x(()=>t.select===ce);return(m,p)=>(h(),S("g",ie,[p[7]||(p[7]=u("path",{class:"component-bg",d:"m 0,0 h 376 v 104 l -88,88 h -200 l -88,-88 z"},null,-1)),u("g",{class:K({"alu-btn":!0,active:e.flagZ}),onClick:p[0]||(p[0]=F=>n("update:flagZ",!e.flagZ))},p[2]||(p[2]=[u("rect",{width:"32",height:"32",x:"8",y:"24",fill:"#000"},null,-1),u("text",{x:"24",y:"40"}," Z ",-1)]),2),u("g",{class:K({"alu-btn":!0,active:e.flagO}),onClick:p[1]||(p[1]=F=>n("update:flagO",!e.flagO))},p[3]||(p[3]=[u("rect",{width:"32",height:"32",x:"8",y:"64"},null,-1),u("text",{x:"24",y:"80"}," O ",-1)]),2),p[8]||(p[8]=u("text",{class:"component-label",x:"151",y:"41"}," ALU ",-1)),u("g",{class:K({"alu-btn":!0,active:b.value})},p[4]||(p[4]=[u("rect",{width:"64",height:"32",x:"88",y:"64"},null,-1),u("text",{x:"120",y:"80"}," AND ",-1)]),2),u("g",{class:K({"alu-btn":!0,active:g.value})},p[5]||(p[5]=[u("rect",{width:"64",height:"32",x:"160",y:"64"},null,-1),u("text",{x:"192",y:"80"}," ADD ",-1)]),2),u("g",{class:K({"alu-btn":!0,active:r.value})},p[6]||(p[6]=[u("rect",{width:"64",height:"32",x:"232",y:"64"},null,-1),u("text",{x:"264",y:"80"}," SUB ",-1)]),2)]))}}),O=(e,a)=>{const t=e.__vccOpts||e;for(const[n,b]of a)t[n]=b;return t},ge=O(ye,[["__scopeId","data-v-573cae54"]]),fe=["width","height","x","y"],xe=q({__name:"BusLane",props:{x:Number,y:Number,dir:{required:!0,type:String},length:{required:!0,type:Number},value:Boolean},setup(e){const a=e,t=x(()=>a.dir==="vertical");return(n,b)=>(h(),S("rect",{class:K({active:e.value}),width:t.value?8:e.length,height:t.value?e.length:8,x:e.x??0,y:e.y??0},null,10,fe))}}),U=O(xe,[["__scopeId","data-v-68762ac2"]]),I=q({__name:"BusLanes",props:{x:Number,y:Number,dir:{required:!0,type:String},length:{required:!0,type:Number},taperedStart:{type:Boolean},taperedEnd:{type:Boolean},value:{required:!0,type:Number}},setup(e){const a=e,t=x(()=>a.dir==="vertical");function n(g){const r=1<<g;return{key:`lane_${g}`,get x(){if(t.value)return 16*(3-g);{let m=0;return a.taperedStart&&(m+=16*(3-g)),m}},get y(){if(t.value){let m=0;return a.taperedStart&&(m+=16*(3-g)),m}else return 16*(3-g)},get length(){const m=a.length;if(!a.taperedStart&&!a.taperedEnd)return m;if(a.taperedStart&&a.taperedEnd)return m-48;if(a.taperedStart&&!a.taperedEnd)return m-16*(3-g);if(!a.taperedStart&&a.taperedEnd)return m-48+16*(3-g)},get value(){return!!(a.value&r)},get dir(){return t.value?"vertical":"horizontal"}}}const b=[n(3),n(2),n(1),n(0)];return(g,r)=>(h(),S("g",{style:z({transform:"translate("+e.x+"px, "+e.y+"px)"})},[(h(),S(_,null,M(b,m=>l(U,{key:m.key,value:m.value,dir:e.dir,length:m.length,x:m.x,y:m.y},null,8,["value","dir","length","x","y"])),64))],4))}}),be=q({__name:"StepIndicator",props:{x:{type:Number,required:!0},y:{type:Number,required:!0},label:{type:String,required:!0},active:{type:Boolean,required:!0}},setup(e){return(a,t)=>(h(),S("g",{style:z(`transform: translate(${e.x}px, ${e.y}px)`)},[t[0]||(t[0]=u("path",{d:"m 0,0 36,36 -36,36 h 192 l 36,-36 -36,-36 z"},null,-1)),u("text",{class:K(["component-label",{active:e.active}]),x:"116",y:"36"},P(e.label),3)],4))}}),Z=O(be,[["__scopeId","data-v-484a481a"]]),ke={id:"decoder_timer"},we=q({__name:"ControlUnit",setup(e,{expose:a}){const t=x(()=>V().cpu);function n(){V().cpu=ne(G().state,V().cpu)}function b(){V().cpu=oe(G().state,V().cpu)}return a({doFocus(){}}),(g,r)=>(h(),S("g",ke,[r[4]||(r[4]=u("rect",{class:"component-bg",width:"1888",height:"72",x:"16",y:"32"},null,-1)),r[5]||(r[5]=u("text",{class:"component-label",x:"45",y:"80"}," Decoder & Timer ",-1)),l(Z,{x:336,y:32,label:"Fetch",active:c(y).getStage(t.value)===c(W).Fetch},null,8,["active"]),l(Z,{x:544,y:32,label:"Decode",active:c(y).getStage(t.value)===c(W).Decode},null,8,["active"]),l(Z,{x:752,y:32,label:"Read",active:c(y).getStage(t.value)===c(W).Read},null,8,["active"]),l(Z,{x:960,y:32,label:"Execute",active:c(y).getStage(t.value)===c(W).Execute},null,8,["active"]),l(Z,{x:1168,y:32,label:"Write",active:c(y).getStage(t.value)===c(W).Write},null,8,["active"]),u("g",{class:"btn",onClick:r[0]||(r[0]=m=>n()),style:{transform:"translate(1400px, 40px)"},tabindex:"0"},r[2]||(r[2]=[u("rect",{width:"56",height:"56",x:"0",y:"0"},null,-1),u("path",{d:"m 15,13 v 5 l 17,10 -17,10 v 5 l 27,-15 z"},null,-1)])),u("g",{class:"btn",onClick:r[1]||(r[1]=m=>b()),style:{transform:"translate(1464px, 40px)"},tabindex:"0"},r[3]||(r[3]=[u("rect",{width:"56",height:"56",x:"0",y:"0"},null,-1),u("path",{d:"m 16,43 0,-31 L 43,28 Z"},null,-1)])),r[6]||(r[6]=u("g",{class:"btn",style:{transform:"translate(1528px, 40px)"},tabindex:"0"},[u("rect",{width:"56",height:"56",x:"0",y:"0"}),u("path",{d:"M 6,13 V 43 L 24,33 V 43 L 50,28 23,13 V 23 Z"})],-1))]))}}),he=O(we,[["__scopeId","data-v-2ced6917"]]),$e={x:"16",y:"16",height:"32",width:"32"},Ve=q({__name:"BitBtn",props:{x:Number,y:Number,modelValue:Boolean},emits:["update:modelValue"],setup(e,{expose:a,emit:t}){const n=N(null);a({doFocus(){const g=n.value;g&&g.focus()}});const b=t;return(g,r)=>(h(),S("g",{class:K({active:e.modelValue}),style:z({transform:"translate("+e.x+"px, "+e.y+"px)"}),onClick:r[0]||(r[0]=m=>b("update:modelValue",!e.modelValue)),onKeypress:r[1]||(r[1]=m=>b("update:modelValue",!e.modelValue)),tabindex:"0",ref_key:"focusTarget",ref:n},[r[2]||(r[2]=u("rect",{width:"32",height:"32"},null,-1)),u("text",$e,P(e.modelValue?"1":"0"),1)],38))}}),j=O(Ve,[["__scopeId","data-v-bb6dead5"]]),E=q({__name:"WordBits",props:{x:Number,y:Number,modelValue:{type:Number,required:!0},blocked:{type:Boolean,default:!1}},emits:["update:modelValue","up","down"],setup(e,{expose:a,emit:t}){const n=e,b=t;function g(d){return x({get(){return!!(n.modelValue&d)},set(){n.blocked||b("update:modelValue",n.modelValue^d)}})}a({doFocus(d=0){f[d]?.value?.doFocus()}});const r=g(1),m=g(2),p=g(4),F=g(8),$=N(null),v=N(null),k=N(null),o=N(null),f=[o,k,v,$];return(d,i)=>(h(),S("g",{style:z({transform:"translate("+e.x+"px, "+e.y+"px)",opacity:e.blocked?.5:1})},[l(j,{modelValue:c(F),"onUpdate:modelValue":i[0]||(i[0]=w=>L(F)?F.value=w:null),x:0,y:0,style:z(e.blocked?"cursor: not-allowed":""),ref_key:"comp_bit3",ref:$,onKeydown:[i[1]||(i[1]=C(A(w=>v.value?.doFocus(),["stop"]),["right"])),i[2]||(i[2]=C(A(w=>d.$emit("down",3),["stop"]),["down"])),i[3]||(i[3]=C(A(w=>d.$emit("up",3),["stop"]),["up"]))]},null,8,["modelValue","style"]),l(j,{modelValue:c(p),"onUpdate:modelValue":i[4]||(i[4]=w=>L(p)?p.value=w:null),x:40,y:0,ref_key:"comp_bit2",ref:v,style:z(e.blocked?"cursor: not-allowed":""),onKeydown:[i[5]||(i[5]=C(A(w=>k.value?.doFocus(),["stop"]),["right"])),i[6]||(i[6]=C(A(w=>$.value?.doFocus(),["stop"]),["left"])),i[7]||(i[7]=C(A(w=>d.$emit("up",2),["stop"]),["up"])),i[8]||(i[8]=C(A(w=>d.$emit("down",2),["stop"]),["down"]))]},null,8,["modelValue","style"]),l(j,{modelValue:c(m),"onUpdate:modelValue":i[9]||(i[9]=w=>L(m)?m.value=w:null),x:80,y:0,ref_key:"comp_bit1",ref:k,style:z(e.blocked?"cursor: not-allowed":""),onKeydown:[i[10]||(i[10]=C(A(w=>o.value?.doFocus(),["stop"]),["right"])),i[11]||(i[11]=C(A(w=>v.value?.doFocus(),["stop"]),["left"])),i[12]||(i[12]=C(A(w=>d.$emit("up",1),["stop"]),["up"])),i[13]||(i[13]=C(A(w=>d.$emit("down",1),["stop"]),["down"]))]},null,8,["modelValue","style"]),l(j,{modelValue:c(r),"onUpdate:modelValue":i[14]||(i[14]=w=>L(r)?r.value=w:null),x:120,y:0,ref_key:"comp_bit0",ref:o,style:z(e.blocked?"cursor: not-allowed":""),onKeydown:[i[15]||(i[15]=C(A(w=>k.value?.doFocus(),["stop"]),["left"])),i[16]||(i[16]=C(A(w=>d.$emit("up",0),["stop"]),["up"])),i[17]||(i[17]=C(A(w=>d.$emit("down",0),["stop"]),["down"]))]},null,8,["modelValue","style"])],4))}}),Se=q({__name:"CounterArrow",props:{x:{required:!0,type:Number},y:{required:!0,type:Number}},setup(e){return(a,t)=>(h(),S("path",{d:"M 0 0 V 16 L 14 8 Z",style:z(`transform: translate(${e.x}px, ${e.y}px)`)},null,4))}}),le=O(Se,[["__scopeId","data-v-326f9dde"]]),Be=q({__name:"DirectionArrow",props:{x:{required:!0,type:Number},y:{required:!0,type:Number},dir:{required:!0,type:String},value:{required:!0,type:Boolean}},setup(e){const a=e,t=x(()=>a.dir==="up"),n=x(()=>`transform: translate(${a.x}px,${a.y}px)`);return(b,g)=>t.value?(h(),S("path",{key:0,class:K({active:e.value}),style:z(n.value),d:"m 12,0 -12,14 h 8 v 16 h 8 v -16 h 8 z"},null,6)):(h(),S("path",{key:1,class:K({active:e.value}),style:z(n.value),d:"m 8,0 v 16 h -8 l 12,14 12,-14 h -8 v -16 z"},null,6))}}),T=O(Be,[["__scopeId","data-v-08477ae3"]]),Fe={id:"ram",style:{transform:"translate(1704px, 136px)"}},Ue=q({__name:"DataMemory",setup(e,{expose:a}){const t=N([]);a({doFocus(){t.value[0]?.doFocus(3)}});const n=[];for(let p=0;p<16;p++)n.push(x({get:()=>y.getRam(V().cpu,p),set:F=>{V().update($=>{y.setRam($,p,F)})}}));const b=x(()=>y.getStage(V().cpu)),g=x(()=>{const p=y.getPc(V().cpu);return y.getInstructionsAddr(V().cpu,p)}),r=x(()=>!!(y.getLastDecodedGates(V().cpu,b.value)&R.RW)),m=x(()=>!!(y.getLastDecodedGates(V().cpu,b.value)&R.RW));return(p,F)=>(h(),S("g",Fe,[F[0]||(F[0]=u("path",{class:"component-bg",d:"m 0,0 v 720 40 h 120 v -40 h 80 V 0 Z"},null,-1)),F[1]||(F[1]=u("text",{class:"component-label",x:"30",y:"40"}," RAM ",-1)),l(le,{x:8,y:56+40*(g.value%4)+168*Math.floor(g.value/4)},null,8,["y"]),(h(),S(_,null,M([0,1,2,3],$=>u("g",{key:"data_"+$},[(h(),S(_,null,M([0,1,2,3],v=>u("g",{key:"data_"+$+"_"+v},[l(E,{x:32,y:48+40*v+168*$,ref_for:!0,ref_key:"dataComp",ref:t,"model-value":n[v+$*4].value,"onUpdate:modelValue":k=>n[v+$*4].value=k,onUp:k=>t.value[(v+$*4+15)%16].doFocus(k),onDown:k=>t.value[(v+$*4+1)%16].doFocus(k),onKeydown:[C(A(k=>t.value[(v+$*4+1)%16].doFocus(3),["stop"]),["right"]),C(A(k=>t.value[(v+$*4+15)%16].doFocus(),["stop"]),["left"])]},null,8,["y","model-value","onUpdate:modelValue","onUp","onDown","onKeydown"])])),64))])),64)),l(T,{dir:"up",x:40,y:720,value:r.value},null,8,["value"]),l(T,{dir:"down",x:72,y:720,value:m.value},null,8,["value"])]))}});function te(e,a){return`transform: translate(${e}px, ${a}px)`}const Ce=q({__name:"IncrementorUnit",setup(e){return(a,t)=>(h(),S("g",{id:"pc_incrementor",style:z(c(te)(568,720))},t[0]||(t[0]=[u("rect",{class:"component-bg",width:"72",height:"48",x:"0",y:"0"},null,-1),u("text",{class:"component-label",x:"36",y:"24","text-anchor":"middle","dominant-baseline":"central"}," +1 ",-1)]),4))}}),Ae=["width"],Re=["width"],De=q({__name:"ToggleBtn",props:{x:Number,y:Number,width:Number,modelValue:Boolean,label:String},emits:["update:modelValue"],setup(e,{expose:a,emit:t}){const n=N(null);a({doFocus(){const g=n.value;g&&g.focus()}});const b=t;return(g,r)=>(h(),S("g",{class:K({active:e.modelValue}),style:z({transform:"translate("+e.x+"px, "+e.y+"px)"}),onClick:r[0]||(r[0]=m=>b("update:modelValue",!e.modelValue)),onKeypress:r[1]||(r[1]=m=>b("update:modelValue",!e.modelValue)),tabindex:"0",ref_key:"focusTarget",ref:n},[u("rect",{width:e.width,height:32},null,8,Ae),u("text",{x:"4",y:"16",height:"32",width:e.width,style:{"text-anchor":"start"}},P(e.label),9,Re)],38))}}),Ie=O(De,[["__scopeId","data-v-5a4b0916"]]),Ne={id:"programm",style:{transform:"translate(16px, 136px)"}},qe=["y"],ze=["value","onInput"],Ke=["value"],Oe=q({__name:"InstructionMemory",setup(e){const a=N([]),t=N([]),n=N([]),b=x(()=>V().cpu),g=x(()=>y.getPc(V().cpu)),r=N(!1),m=[],p=[],F=[];for(let v=0;v<16;v++)m.push(x({get:()=>y.getInstructionsOp(b.value,v),set:k=>{V().update(o=>{y.setInstructionsOp(o,v,k)})}})),p.push(x({get:()=>y.getInstructionsAddr(b.value,v),set:k=>{V().update(o=>{y.setInstructionsAddr(o,v,k)})}})),F.push(x({get:()=>y.getInstructionsData(b.value,v),set:k=>{V().update(o=>{y.setInstructionsData(o,v,k)})}}));const $=x(()=>G().state.instructions);return(v,k)=>(h(),S("g",Ne,[k[1]||(k[1]=u("rect",{class:"component-bg",width:"536",height:"720",x:"0",y:"0"},null,-1)),k[2]||(k[2]=u("text",{class:"component-label",x:"30",y:"40"},"ROM",-1)),l(le,{x:8,y:56+40*(g.value%4)+168*Math.floor(g.value/4)},null,8,["y"]),l(Ie,{x:370,y:8,width:150,label:r.value?"Ins":"Binary",modelValue:r.value,"onUpdate:modelValue":k[0]||(k[0]=o=>r.value=o)},null,8,["label","modelValue"]),(h(),S(_,null,M([0,1,2,3],o=>u("g",{key:o},[(h(),S(_,null,M([0,1,2,3],f=>u("g",{key:o+"_"+f},[r.value?(h(),S("foreignObject",{key:0,x:"32",y:48+40*f+168*o,width:152,height:32},[u("select",{style:{height:"100%",width:"100%"},value:m[f+o*4].value,onInput:d=>m[f+o*4].value=+d.target.value},[(h(!0),S(_,null,M($.value,(d,i)=>(h(),S("option",{key:d.name,value:i},P(d.name),9,Ke))),128))],40,ze)],8,qe)):(h(),ee(E,{key:1,x:32,y:48+40*f+168*o,ref_for:!0,ref_key:"ref_inst",ref:a,"model-value":m[f+o*4].value,"onUpdate:modelValue":d=>m[f+o*4].value=d,onKeydown:[C(A(d=>t.value[f+o*4].doFocus(3),["stop"]),["right"]),C(A(d=>n.value[(f+o*4+15)%16].doFocus(),["stop"]),["left"])],onUp:d=>a.value[(f+o*4+15)%16].doFocus(d),onDown:d=>a.value[(f+o*4+1)%16].doFocus(d)},null,8,["y","model-value","onUpdate:modelValue","onKeydown","onUp","onDown"])),l(E,{x:200,y:48+40*f+168*o,ref_for:!0,ref_key:"ref_addr",ref:t,"model-value":p[f+o*4].value,"onUpdate:modelValue":d=>p[f+o*4].value=d,onKeydown:[C(A(d=>n.value[f+o*4].doFocus(3),["stop"]),["right"]),C(A(d=>a.value[f+o*4].doFocus(),["stop"]),["left"])],onUp:d=>t.value[(f+o*4+15)%16].doFocus(d),onDown:d=>t.value[(f+o*4+1)%16].doFocus(d)},null,8,["y","model-value","onUpdate:modelValue","onKeydown","onUp","onDown"]),l(E,{x:368,y:48+40*f+168*o,ref_for:!0,ref_key:"ref_data",ref:n,"model-value":F[f+o*4].value,"onUpdate:modelValue":d=>F[f+o*4].value=d,onKeydown:[C(A(d=>a.value[(f+o*4+1)%16].doFocus(3),["stop"]),["right"]),C(A(d=>t.value[f+o*4].doFocus(),["stop"]),["left"])],onUp:d=>n.value[(f+o*4+15)%16].doFocus(d),onDown:d=>n.value[(f+o*4+1)%16].doFocus(d)},null,8,["y","model-value","onUpdate:modelValue","onKeydown","onUp","onDown"])])),64))])),64))]))}}),_e=O(Oe,[["__scopeId","data-v-b624bd2e"]]),Me=q({__name:"JumpManager",setup(e){return(a,t)=>(h(),S("g",{id:"jmpManager",style:z(c(te)(912,432))},t[0]||(t[0]=[u("rect",{class:"component-bg",width:"56",height:"56",x:"0",y:"0"},null,-1),u("text",{class:"component-label",x:"28",y:"28","text-anchor":"middle","dominant-baseline":"central"}," JP ",-1)]),4))}}),Ee={id:"pc",style:{transform:"translate(704px, 632px)"}},We=q({__name:"ProgramCounter",props:{jump:{type:Boolean,required:!0},modelValue:{type:Number,required:!0}},emits:["update:modelValue"],setup(e){return(a,t)=>(h(),S("g",Ee,[t[1]||(t[1]=u("rect",{class:"component-bg",width:"168",height:"136",x:"0",y:"0"},null,-1)),t[2]||(t[2]=u("text",{class:"component-label",x:"8",y:"40"}," PC ",-1)),l(E,{x:8,y:56,"model-value":e.modelValue,"onUpdate:modelValue":t[0]||(t[0]=n=>a.$emit("update:modelValue",n))},null,8,["model-value"]),l(T,{dir:"up",value:!e.jump,x:24,y:98},null,8,["value"]),l(T,{dir:"up",value:e.jump,x:120,y:98},null,8,["value"])]))}}),Ze={class:"component-label",x:"8",y:"40"},Y=q({__name:"DataRegister",props:de({x:{type:Number,required:!0},y:{type:Number,required:!0},name:{type:String,required:!0},commandRead:{type:Boolean,required:!0},commandWrite:{type:Boolean,required:!0}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const a=se(e,"modelValue");return(t,n)=>(h(),S("g",{style:z(`transform: translate(${e.x}px, ${e.y}px)`)},[n[1]||(n[1]=u("rect",{class:"component-bg",width:"168",height:"96",x:"0",y:"0"},null,-1)),l(E,{x:8,y:56,modelValue:a.value,"onUpdate:modelValue":n[0]||(n[0]=b=>a.value=b)},null,8,["modelValue"]),u("text",Ze,P(e.name),1),u("text",{class:K(["component-port-label",{active:e.commandRead}]),x:"154",y:"28"}," R ",2),u("text",{class:K(["component-port-label",{active:e.commandWrite}]),x:"154",y:"12"}," W ",2)],4))}}),Pe={"xmlns:svg":"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1920 1080",version:"1.1",height:"100%",width:"100%"},Le=q({__name:"CPU",props:{excerciseState:{type:Object,required:!0}},setup(e){const a=N(null),t=N(null),n=N(null),b=N(null),g=N(null),r=N(null),m=N(null),p=[r,a,t,n,b,g,m];function F(D,s){if(s.key==="PageUp"||s.key==="PageDown"){const B=s.key==="PageUp"?p.length-1:1,X=p.findIndex(ae=>ae.value===D);if(X===-1)return;p[(X+B)%p.length]?.value?.doFocus(),s.preventDefault(),s.stopPropagation()}}const $=x(()=>V().cpu),v=x(()=>{const D=V().cpu,s=y.getStage(D);return y.getLastDecodedGates(D,s)}),k=x(()=>{const D=V().cpu;return y.getInstructionsAddr(D,y.getPc(D))}),o=x(()=>{const D=V().cpu;return y.getDataBus(D)}),f=x(()=>re(v.value)),d=x({get(){return y.getRegA($.value)},set(D){V().update(s=>{y.setRegA(s,D)})}}),i=x({get(){return y.getRegB($.value)},set(D){V().update(s=>{y.setRegB(s,D)})}}),w=x({get(){return y.getPc($.value)},set(D){V().update(s=>{y.setPc(s,D)})}}),J=x({get(){return y.getFlagO($.value)},set(D){V().update(s=>{y.setFlagO(s,D)})}}),Q=x({get(){return y.getFlagZ($.value)},set(D){V().update(s=>{y.setFlagZ(s,D)})}});return(D,s)=>(h(),S("svg",Pe,[u("g",null,[s[12]||(s[12]=u("text",{x:"4",y:"1008",id:"databus_label"},"Data",-1)),l(I,{id:"main_data_bus",x:0,y:1016,value:o.value,dir:"horizontal",length:1920},null,8,["value"]),s[13]||(s[13]=u("text",{x:"8",y:"904",id:"addressbus_label"},"Address",-1)),l(I,{id:"main_address_bus",x:0,y:912,value:k.value,dir:"horizontal",length:1920},null,8,["value"]),l(I,{id:"program_out_address",x:264,y:856,value:k.value,dir:"vertical",length:112,taperedEnd:""},null,8,["value"]),l(I,{id:"program_out_data",x:432,y:856,value:o.value,dir:"vertical",length:216,taperedEnd:""},null,8,["value"]),l(I,{id:"pc_in_address",x:808,y:768,value:k.value,dir:"vertical",length:200,taperedEnd:""},null,8,["value"]),l(I,{id:"incrementor_bus",x:576,y:776,value:w.value+1,dir:"horizontal",length:192,taperedStart:"",taperedEnd:""},null,8,["value"]),l(I,{id:"incrementor_out",x:576,y:768,value:w.value+1,dir:"vertical",length:64,taperedEnd:""},null,8,["value"]),l(I,{id:"pc_incrementor_in",x:712,y:768,value:w.value+1,dir:"vertical",length:64,taperedEnd:""},null,8,["value"]),l(I,{id:"pc_bus",x:552,y:640,value:w.value,dir:"horizontal",length:152},null,8,["value"]),l(I,{id:"incrementor_in",x:576,y:640,value:w.value,dir:"vertical",length:80,taperedStart:""},null,8,["value"]),l(I,{id:"alu_out",x:1144,y:592,value:o.value,dir:"vertical",length:480,taperedEnd:""},null,8,["value"]),l(I,{id:"databus_registers_ext",x:1568,y:200,value:o.value,dir:"vertical",length:872,taperedStart:"",taperedEnd:""},null,8,["value"]),l(I,{id:"databus_registers",x:1040,y:200,value:o.value,dir:"horizontal",length:582,taperedStart:"",taperedEnd:""},null,8,["value"]),l(I,{id:"register_A_in",x:1040,y:200,value:o.value,dir:"vertical",length:64,taperedStart:""},null,8,["value"]),l(I,{id:"register_B_in",x:1248,y:200,value:o.value,dir:"vertical",length:64,taperedStart:""},null,8,["value"]),l(U,{dir:"horizontal",length:16,value:c(y).getFlagZ($.value),x:968,y:448},null,8,["value"]),l(U,{dir:"horizontal",length:16,value:c(y).getFlagO($.value),x:968,y:464},null,8,["value"]),l(U,{length:264,x:936,y:488,dir:"vertical",value:!1}),l(U,{length:72,x:872,y:744,dir:"horizontal",value:!1}),l(U,{length:328,x:920,y:104,dir:"vertical",value:!!(v.value&c(R).JN)},null,8,["value"]),l(U,{length:328,x:936,y:104,dir:"vertical",value:!!(v.value&c(R).JZ)},null,8,["value"]),l(U,{length:328,x:952,y:104,dir:"vertical",value:!!(v.value&c(R).JO)},null,8,["value"]),l(U,{dir:"horizontal",value:!!(v.value&c(R).AW),length:16,x:1152,y:272},null,8,["value"]),l(U,{dir:"vertical",value:!!(v.value&c(R).AW),length:176,x:1160,y:104},null,8,["value"]),l(U,{dir:"horizontal",value:!!(v.value&c(R).AR),length:32,x:1152,y:288},null,8,["value"]),l(U,{dir:"vertical",value:!!(v.value&c(R).AR),length:192,x:1176,y:104},null,8,["value"]),l(U,{dir:"horizontal",value:!!(v.value&c(R).BW),length:16,x:1360,y:272},null,8,["value"]),l(U,{dir:"vertical",value:!!(v.value&c(R).BW),length:176,x:1368,y:104},null,8,["value"]),l(U,{dir:"horizontal",value:!!(v.value&c(R).BR),length:32,x:1360,y:288},null,8,["value"]),l(U,{dir:"vertical",value:!!(v.value&c(R).BR),length:192,x:1384,y:104},null,8,["value"]),l(U,{dir:"horizontal",value:!!(v.value&c(R).RW),length:32,x:1672,y:856},null,8,["value"]),l(U,{dir:"vertical",value:!!(v.value&c(R).RW),length:760,x:1672,y:104},null,8,["value"]),l(U,{dir:"horizontal",value:!!(v.value&c(R).RR),length:48,x:1656,y:872},null,8,["value"]),l(U,{dir:"vertical",value:!!(v.value&c(R).RR),length:776,x:1656,y:104},null,8,["value"]),l(I,{dir:"vertical",length:32,value:c(y).getInstructionsOp($.value,w.value),x:96,y:104},null,8,["value"]),l(U,{dir:"horizontal",value:!!(f.value&1),length:56,x:1360,y:416},null,8,["value"]),l(U,{dir:"vertical",value:!!(f.value&1),length:320,x:1408,y:104},null,8,["value"]),l(U,{dir:"horizontal",value:!!(f.value&2),length:72,x:1360,y:432},null,8,["value"]),l(U,{dir:"vertical",value:!!(f.value&2),length:336,x:1424,y:104},null,8,["value"]),l(I,{id:"ram_in_address",x:1840,y:856,value:k.value,dir:"vertical",length:112,taperedEnd:""},null,8,["value"]),l(I,{id:"databus_ram",x:1744,y:896,value:o.value,dir:"vertical",length:176,taperedEnd:""},null,8,["value"]),l(he,{ref_key:"controlComp",ref:r,onKeydown:s[0]||(s[0]=B=>F(r.value,B))},null,512),l(_e,{ref_key:"romComp",ref:a,onKeydown:s[1]||(s[1]=B=>F(a.value,B))},null,512),l(Ue,{ref_key:"dataComp",ref:t,onKeydown:s[2]||(s[2]=B=>F(t.value,B))},null,512),l(Y,{name:"A",x:984,y:264,ref_key:"regAComp",ref:n,modelValue:d.value,"onUpdate:modelValue":s[3]||(s[3]=B=>d.value=B),"command-read":!!(v.value&c(R).AR),"command-write":!!(v.value&c(R).AW),onKeydown:s[4]||(s[4]=B=>F(n.value,B))},null,8,["modelValue","command-read","command-write"]),l(Y,{name:"B",x:1192,y:264,ref_key:"regBComp",ref:b,modelValue:i.value,"onUpdate:modelValue":s[5]||(s[5]=B=>i.value=B),"command-read":!!(v.value&c(R).BR),"command-write":!!(v.value&c(R).BW),onKeydown:s[6]||(s[6]=B=>F(b.value,B))},null,8,["modelValue","command-read","command-write"]),l(ge,{ref_key:"aluComp",ref:g,select:f.value,"flag-o":J.value,"onUpdate:flagO":s[7]||(s[7]=B=>J.value=B),"flag-z":Q.value,"onUpdate:flagZ":s[8]||(s[8]=B=>Q.value=B),onKeydown:s[9]||(s[9]=B=>F(g.value,B))},null,8,["select","flag-o","flag-z"]),l(I,{id:"alu_in_A",dir:"vertical",length:40,x:1040,y:360,value:d.value},null,8,["value"]),l(I,{id:"alu_in_B",dir:"vertical",length:40,x:1248,y:360,value:i.value},null,8,["value"]),l(Me),l(We,{ref_key:"pcComp",ref:m,modelValue:w.value,"onUpdate:modelValue":s[10]||(s[10]=B=>w.value=B),jump:!1,onKeydown:s[11]||(s[11]=B=>F(m.value,B))},null,8,["modelValue"]),l(Ce)])]))}}),je=O(Le,[["__scopeId","data-v-6196eee6"]]),Te={0:{value:1,blocked:!0},1:{value:1,blocked:!0},2:{value:0,blocked:!1},3:{value:0,blocked:!1},4:{value:0,blocked:!1},5:{value:0,blocked:!1},6:{value:0,blocked:!1},7:{value:0,blocked:!1},8:{value:0,blocked:!1},9:{value:0,blocked:!1},10:{value:3,blocked:!0},11:{value:0,blocked:!1},12:{value:0,blocked:!1},13:{value:0,blocked:!1},14:{value:0,blocked:!1},15:{value:0,blocked:!1}},Ge={instructions:{0:{value:0,blocked:!1},1:{value:0,blocked:!1},2:{value:0,blocked:!1},3:{value:5,blocked:!0},4:{value:0,blocked:!1},5:{value:0,blocked:!1},6:{value:0,blocked:!1},7:{value:0,blocked:!1},8:{value:0,blocked:!1},9:{value:0,blocked:!1},10:{value:0,blocked:!1},11:{value:0,blocked:!1},12:{value:0,blocked:!1},13:{value:0,blocked:!1},14:{value:0,blocked:!1},15:{value:0,blocked:!1}},addresses:{0:{value:0,blocked:!1},1:{value:9,blocked:!0},2:{value:0,blocked:!1},3:{value:0,blocked:!1},4:{value:4,blocked:!1},5:{value:0,blocked:!1},6:{value:0,blocked:!1},7:{value:7,blocked:!0},8:{value:0,blocked:!1},9:{value:0,blocked:!1},10:{value:0,blocked:!1},11:{value:0,blocked:!1},12:{value:0,blocked:!1},13:{value:0,blocked:!1},14:{value:0,blocked:!1},15:{value:0,blocked:!1}},data:{0:{value:0,blocked:!1},1:{value:0,blocked:!1},2:{value:0,blocked:!1},3:{value:0,blocked:!1},4:{value:0,blocked:!1},5:{value:0,blocked:!1},6:{value:0,blocked:!1},7:{value:8,blocked:!1},8:{value:0,blocked:!1},9:{value:0,blocked:!1},10:{value:0,blocked:!1},11:{value:0,blocked:!1},12:{value:0,blocked:!1},13:{value:0,blocked:!1},14:{value:0,blocked:!1},15:{value:0,blocked:!1}}},H={dataMemoryState:Te,instructionMemoryState:Ge},el=q({__name:"CPU",setup(e){const a=x(()=>({dataMemoryState:H.dataMemoryState,instructionMemoryState:H.instructionMemoryState}));return(t,n)=>(h(),ee(c(ue),{class:"row items-center justify-evenly"},{default:ve(()=>[l(je,{excerciseState:a.value},null,8,["excerciseState"])]),_:1}))}});export{el as default};
