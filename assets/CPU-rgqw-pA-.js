import{a as y,C as Z,c as ae,b as ue,u as K,G as q,g as ne}from"./readDecoder-CmVU6KVh.js";import{d as N,c as $,V as k,R as o,a7 as z,Q as V,a8 as I,F as E,W as M,f as l,X as P,a9 as J,aa as j,U as p,r as R,ab as F,ac as C,i as _,N as oe}from"./index-DvR0P6aX.js";const re={id:"alu",style:{transform:"translate(984px, 400px)"}},de=1,se=2,ie=3,ve=N({__name:"ALU",props:{select:{type:Number,required:!0},flagZ:{type:Boolean,required:!0},flagO:{type:Boolean,required:!0}},emits:["update:flagZ","update:flagO"],setup(e,{emit:t}){const u=e,n=t,w=$(()=>u.select===de),i=$(()=>u.select===se),f=$(()=>u.select===ie);return(r,g)=>(V(),k("g",re,[g[7]||(g[7]=o("path",{class:"component-bg",d:"m 0,0 h 376 v 104 l -88,88 h -200 l -88,-88 z"},null,-1)),o("g",{id:"flag_z",class:z({"alu-btn":!0,active:e.flagZ}),onClick:g[0]||(g[0]=S=>n("update:flagZ",!e.flagZ))},g[2]||(g[2]=[o("rect",{width:"32",height:"32",x:"8",y:"24",fill:"#000"},null,-1),o("text",{x:"24",y:"40"}," Z ",-1)]),2),o("g",{id:"flag_o",class:z({"alu-btn":!0,active:e.flagO}),onClick:g[1]||(g[1]=S=>n("update:flagO",!e.flagO))},g[3]||(g[3]=[o("rect",{width:"32",height:"32",x:"8",y:"64"},null,-1),o("text",{x:"24",y:"80"}," O ",-1)]),2),g[8]||(g[8]=o("text",{class:"component-label",x:"151",y:"41"}," ALU ",-1)),o("g",{class:z({"alu-btn":!0,active:w.value})},g[4]||(g[4]=[o("rect",{width:"64",height:"32",x:"88",y:"64"},null,-1),o("text",{x:"120",y:"80"}," AND ",-1)]),2),o("g",{class:z({"alu-btn":!0,active:i.value})},g[5]||(g[5]=[o("rect",{width:"64",height:"32",x:"160",y:"64"},null,-1),o("text",{x:"192",y:"80"}," ADD ",-1)]),2),o("g",{class:z({"alu-btn":!0,active:f.value})},g[6]||(g[6]=[o("rect",{width:"64",height:"32",x:"232",y:"64"},null,-1),o("text",{x:"264",y:"80"}," SUB ",-1)]),2)]))}}),O=(e,t)=>{const u=e.__vccOpts||e;for(const[n,w]of t)u[n]=w;return u},me=O(ve,[["__scopeId","data-v-2f6055d9"]]),pe=["width","height","x","y"],ye=N({__name:"BusLane",props:{x:Number,y:Number,dir:{required:!0,type:String},length:{required:!0,type:Number},value:Boolean},setup(e){const t=e,u=$(()=>t.dir==="vertical");return(n,w)=>(V(),k("rect",{class:z({active:e.value}),width:u.value?8:e.length,height:u.value?e.length:8,x:e.x??0,y:e.y??0},null,10,pe))}}),B=O(ye,[["__scopeId","data-v-68762ac2"]]),A=N({__name:"BusLanes",props:{x:Number,y:Number,dir:{required:!0,type:String},length:{required:!0,type:Number},taperedStart:{type:Boolean},taperedEnd:{type:Boolean},value:{required:!0,type:Number}},setup(e){const t=e,u=$(()=>t.dir==="vertical");function n(i){const f=1<<i;return{key:`lane_${i}`,get x(){if(u.value)return 16*(3-i);{let r=0;return t.taperedStart&&(r+=16*(3-i)),r}},get y(){if(u.value){let r=0;return t.taperedStart&&(r+=16*(3-i)),r}else return 16*(3-i)},get length(){const r=t.length;if(!t.taperedStart&&!t.taperedEnd)return r;if(t.taperedStart&&t.taperedEnd)return r-48;if(t.taperedStart&&!t.taperedEnd)return r-16*(3-i);if(!t.taperedStart&&t.taperedEnd)return r-48+16*(3-i)},get value(){return!!(t.value&f)},get dir(){return u.value?"vertical":"horizontal"}}}const w=[n(3),n(2),n(1),n(0)];return(i,f)=>(V(),k("g",{style:I({transform:"translate("+e.x+"px, "+e.y+"px)"})},[(V(),k(E,null,M(w,r=>l(B,{key:r.key,value:r.value,dir:e.dir,length:r.length,x:r.x,y:r.y},null,8,["value","dir","length","x","y"])),64))],4))}}),ge=N({__name:"StepIndicator",props:{x:{type:Number,required:!0},y:{type:Number,required:!0},label:{type:String,required:!0},active:{type:Boolean,required:!0}},setup(e){return(t,u)=>(V(),k("g",{style:I(`transform: translate(${e.x}px, ${e.y}px)`)},[u[0]||(u[0]=o("path",{d:"m 0,0 36,36 -36,36 h 192 l 36,-36 -36,-36 z"},null,-1)),o("text",{class:z(["component-label",{active:e.active}]),x:"116",y:"36"},P(e.label),3)],4))}}),L=O(ge,[["__scopeId","data-v-484a481a"]]),ce={id:"decoder_timer"},xe=N({__name:"ControlUnit",props:J({decoderState:{type:Object,required:!0}},{cpu:{required:!0},cpuModifiers:{}}),emits:["update:cpu"],setup(e,{expose:t}){const u=e,n=j(e,"cpu");function w(){n.value=ae(u.decoderState,n.value)}function i(){n.value=ue(u.decoderState,n.value)}return t({doFocus(){}}),(f,r)=>(V(),k("g",ce,[r[4]||(r[4]=o("rect",{class:"component-bg",width:"1888",height:"72",x:"16",y:"32"},null,-1)),r[5]||(r[5]=o("text",{class:"component-label",x:"45",y:"80"}," Decoder & Timer ",-1)),l(L,{x:336,y:32,label:"Fetch",active:p(y).getStage(n.value)===p(Z).Fetch},null,8,["active"]),l(L,{x:544,y:32,label:"Decode",active:p(y).getStage(n.value)===p(Z).Decode},null,8,["active"]),l(L,{x:752,y:32,label:"Read",active:p(y).getStage(n.value)===p(Z).Read},null,8,["active"]),l(L,{x:960,y:32,label:"Execute",active:p(y).getStage(n.value)===p(Z).Execute},null,8,["active"]),l(L,{x:1168,y:32,label:"Write",active:p(y).getStage(n.value)===p(Z).Write},null,8,["active"]),o("g",{id:"control_unit_step_btn",class:"btn",onClick:r[0]||(r[0]=g=>w()),style:{transform:"translate(1400px, 40px)"},tabindex:"0"},r[2]||(r[2]=[o("rect",{width:"56",height:"56",x:"0",y:"0"},null,-1),o("path",{d:"m 15,13 v 5 l 17,10 -17,10 v 5 l 27,-15 z"},null,-1)])),o("g",{id:"control_unit_cycle_btn",class:"btn",onClick:r[1]||(r[1]=g=>i()),style:{transform:"translate(1464px, 40px)"},tabindex:"0"},r[3]||(r[3]=[o("rect",{width:"56",height:"56",x:"0",y:"0"},null,-1),o("path",{d:"m 16,43 0,-31 L 43,28 Z"},null,-1)])),r[6]||(r[6]=o("g",{class:"btn",style:{transform:"translate(1528px, 40px)"},tabindex:"0"},[o("rect",{width:"56",height:"56",x:"0",y:"0"}),o("path",{d:"M 6,13 V 43 L 24,33 V 43 L 50,28 23,13 V 23 Z"})],-1))]))}}),fe=O(xe,[["__scopeId","data-v-598b2867"]]),be={x:"16",y:"16",height:"32",width:"32"},we=N({__name:"BitBtn",props:{x:Number,y:Number,modelValue:Boolean},emits:["update:modelValue"],setup(e,{expose:t,emit:u}){const n=R(null);t({doFocus(){const i=n.value;i&&i.focus()}});const w=u;return(i,f)=>(V(),k("g",{class:z({active:e.modelValue}),style:I({transform:"translate("+e.x+"px, "+e.y+"px)"}),onClick:f[0]||(f[0]=r=>w("update:modelValue",!e.modelValue)),onKeypress:f[1]||(f[1]=r=>w("update:modelValue",!e.modelValue)),tabindex:"0",ref_key:"focusTarget",ref:n},[f[2]||(f[2]=o("rect",{width:"32",height:"32"},null,-1)),o("text",be,P(e.modelValue?"1":"0"),1)],38))}}),T=O(we,[["__scopeId","data-v-bb6dead5"]]),W=N({__name:"WordBits",props:{x:Number,y:Number,modelValue:{type:Number,required:!0},blocked:{type:Boolean,default:!1}},emits:["update:modelValue","up","down"],setup(e,{expose:t,emit:u}){const n=e,w=u;function i(s){return $({get(){return!!(n.modelValue&s)},set(){n.blocked||w("update:modelValue",n.modelValue^s)}})}t({doFocus(s=0){v[s]?.value?.doFocus()}});const f=i(1),r=i(2),g=i(4),S=i(8),U=R(null),m=R(null),h=R(null),c=R(null),v=[c,h,m,U];return(s,a)=>(V(),k("g",{style:I({transform:"translate("+e.x+"px, "+e.y+"px)",opacity:e.blocked?.5:1})},[l(T,{modelValue:p(S),"onUpdate:modelValue":a[0]||(a[0]=x=>_(S)?S.value=x:null),x:0,y:0,style:I(e.blocked?"cursor: not-allowed":""),ref_key:"comp_bit3",ref:U,onKeydown:[a[1]||(a[1]=F(C(x=>m.value?.doFocus(),["stop"]),["right"])),a[2]||(a[2]=F(C(x=>s.$emit("down",3),["stop"]),["down"])),a[3]||(a[3]=F(C(x=>s.$emit("up",3),["stop"]),["up"]))]},null,8,["modelValue","style"]),l(T,{modelValue:p(g),"onUpdate:modelValue":a[4]||(a[4]=x=>_(g)?g.value=x:null),x:40,y:0,ref_key:"comp_bit2",ref:m,style:I(e.blocked?"cursor: not-allowed":""),onKeydown:[a[5]||(a[5]=F(C(x=>h.value?.doFocus(),["stop"]),["right"])),a[6]||(a[6]=F(C(x=>U.value?.doFocus(),["stop"]),["left"])),a[7]||(a[7]=F(C(x=>s.$emit("up",2),["stop"]),["up"])),a[8]||(a[8]=F(C(x=>s.$emit("down",2),["stop"]),["down"]))]},null,8,["modelValue","style"]),l(T,{modelValue:p(r),"onUpdate:modelValue":a[9]||(a[9]=x=>_(r)?r.value=x:null),x:80,y:0,ref_key:"comp_bit1",ref:h,style:I(e.blocked?"cursor: not-allowed":""),onKeydown:[a[10]||(a[10]=F(C(x=>c.value?.doFocus(),["stop"]),["right"])),a[11]||(a[11]=F(C(x=>m.value?.doFocus(),["stop"]),["left"])),a[12]||(a[12]=F(C(x=>s.$emit("up",1),["stop"]),["up"])),a[13]||(a[13]=F(C(x=>s.$emit("down",1),["stop"]),["down"]))]},null,8,["modelValue","style"]),l(T,{modelValue:p(f),"onUpdate:modelValue":a[14]||(a[14]=x=>_(f)?f.value=x:null),x:120,y:0,ref_key:"comp_bit0",ref:c,style:I(e.blocked?"cursor: not-allowed":""),onKeydown:[a[15]||(a[15]=F(C(x=>h.value?.doFocus(),["stop"]),["left"])),a[16]||(a[16]=F(C(x=>s.$emit("up",0),["stop"]),["up"])),a[17]||(a[17]=F(C(x=>s.$emit("down",0),["stop"]),["down"]))]},null,8,["modelValue","style"])],4))}}),he=N({__name:"CounterArrow",props:{x:{required:!0,type:Number},y:{required:!0,type:Number}},setup(e){return(t,u)=>(V(),k("path",{d:"M 0 0 V 16 L 14 8 Z",style:I(`transform: translate(${e.x}px, ${e.y}px)`)},null,4))}}),ee=O(he,[["__scopeId","data-v-326f9dde"]]),$e=N({__name:"DirectionArrow",props:{x:{required:!0,type:Number},y:{required:!0,type:Number},dir:{required:!0,type:String},value:{required:!0,type:Boolean}},setup(e){const t=e,u=$(()=>t.dir==="up"),n=$(()=>`transform: translate(${t.x}px,${t.y}px)`);return(w,i)=>u.value?(V(),k("path",{key:0,class:z({active:e.value}),style:I(n.value),d:"m 12,0 -12,14 h 8 v 16 h 8 v -16 h 8 z"},null,6)):(V(),k("path",{key:1,class:z({active:e.value}),style:I(n.value),d:"m 8,0 v 16 h -8 l 12,14 12,-14 h -8 v -16 z"},null,6))}}),G=O($e,[["__scopeId","data-v-08477ae3"]]),Ve={id:"ram",style:{transform:"translate(1704px, 136px)"}},ke=N({__name:"DataMemory",props:{cpu:{required:!0},cpuModifiers:{}},emits:["update:cpu"],setup(e,{expose:t}){const u=R([]);t({doFocus(){u.value[0]?.doFocus(3)}});const n=j(e,"cpu"),w=[];for(let S=0;S<16;S++)w.push($({get:()=>y.getRam(n.value,S),set:U=>{n.value=K(n.value,m=>{y.setRam(m,S,U)})}}));const i=$(()=>y.getStage(n.value)),f=$(()=>{const S=y.getPc(n.value);return y.getInstructionsAddr(n.value,S)}),r=$(()=>!!(y.getLastDecodedGates(n.value,i.value)&q.RW)),g=$(()=>!!(y.getLastDecodedGates(n.value,i.value)&q.RW));return(S,U)=>(V(),k("g",Ve,[U[0]||(U[0]=o("path",{class:"component-bg",d:"m 0,0 v 720 40 h 120 v -40 h 80 V 0 Z"},null,-1)),U[1]||(U[1]=o("text",{class:"component-label",x:"30",y:"40"}," RAM ",-1)),l(ee,{x:8,y:56+40*(f.value%4)+168*Math.floor(f.value/4)},null,8,["y"]),(V(),k(E,null,M([0,1,2,3],m=>o("g",{key:"data_"+m},[(V(),k(E,null,M([0,1,2,3],h=>o("g",{key:"data_"+m+"_"+h},[l(W,{x:32,y:48+40*h+168*m,ref_for:!0,ref_key:"dataComp",ref:u,"model-value":w[h+m*4].value,"onUpdate:modelValue":c=>w[h+m*4].value=c,onUp:c=>u.value[(h+m*4+15)%16].doFocus(c),onDown:c=>u.value[(h+m*4+1)%16].doFocus(c),onKeydown:[F(C(c=>u.value[(h+m*4+1)%16].doFocus(3),["stop"]),["right"]),F(C(c=>u.value[(h+m*4+15)%16].doFocus(),["stop"]),["left"])]},null,8,["y","model-value","onUpdate:modelValue","onUp","onDown","onKeydown"])])),64))])),64)),l(G,{dir:"up",x:40,y:720,value:r.value},null,8,["value"]),l(G,{dir:"down",x:72,y:720,value:g.value},null,8,["value"])]))}});function te(e,t){return`transform: translate(${e}px, ${t}px)`}const Be=N({__name:"IncrementorUnit",setup(e){return(t,u)=>(V(),k("g",{id:"pc_incrementor",style:I(p(te)(568,720))},u[0]||(u[0]=[o("rect",{class:"component-bg",width:"72",height:"48",x:"0",y:"0"},null,-1),o("text",{class:"component-label",x:"36",y:"24","text-anchor":"middle","dominant-baseline":"central"}," +1 ",-1)]),4))}}),Se=["width"],Ue=["width"],Fe=N({__name:"ToggleBtn",props:{x:Number,y:Number,width:Number,modelValue:Boolean,label:String},emits:["update:modelValue"],setup(e,{expose:t,emit:u}){const n=R(null);t({doFocus(){const i=n.value;i&&i.focus()}});const w=u;return(i,f)=>(V(),k("g",{class:z({active:e.modelValue}),style:I({transform:"translate("+e.x+"px, "+e.y+"px)"}),onClick:f[0]||(f[0]=r=>w("update:modelValue",!e.modelValue)),onKeypress:f[1]||(f[1]=r=>w("update:modelValue",!e.modelValue)),tabindex:"0",ref_key:"focusTarget",ref:n},[o("rect",{width:e.width,height:32},null,8,Se),o("text",{x:"4",y:"16",height:"32",width:e.width,style:{"text-anchor":"start"}},P(e.label),9,Ue)],38))}}),Ce=O(Fe,[["__scopeId","data-v-5a4b0916"]]),qe={id:"programm",style:{transform:"translate(16px, 136px)"}},Ae=["y"],Re=["value","onInput"],Ne=["value"],Ie=N({__name:"InstructionMemory",props:J({decoderState:{type:Object,required:!0}},{cpu:{required:!0},cpuModifiers:{}}),emits:["update:cpu"],setup(e){const t=R([]),u=R([]),n=R([]),w=e,i=j(e,"cpu"),f=$(()=>y.getPc(i.value)),r=R(!1),g=[],S=[],U=[];for(let h=0;h<16;h++)g.push($({get:()=>y.getInstructionsOp(i.value,h),set:c=>{i.value=K(i.value,v=>{y.setInstructionsOp(v,h,c)})}})),S.push($({get:()=>y.getInstructionsAddr(i.value,h),set:c=>{i.value=K(i.value,v=>{y.setInstructionsAddr(v,h,c)})}})),U.push($({get:()=>y.getInstructionsData(i.value,h),set:c=>{i.value=K(i.value,v=>{y.setInstructionsData(v,h,c)})}}));const m=$(()=>w.decoderState.instructions);return(h,c)=>(V(),k("g",qe,[c[1]||(c[1]=o("rect",{class:"component-bg",width:"536",height:"720",x:"0",y:"0"},null,-1)),c[2]||(c[2]=o("text",{class:"component-label",x:"30",y:"40"},"ROM",-1)),l(ee,{id:"pc_counter_arrow",x:8,y:56+40*(f.value%4)+168*Math.floor(f.value/4)},null,8,["y"]),l(Ce,{id:"opcode_toggle",x:370,y:8,width:150,label:r.value?"Ins":"Binary",modelValue:r.value,"onUpdate:modelValue":c[0]||(c[0]=v=>r.value=v)},null,8,["label","modelValue"]),(V(),k(E,null,M([0,1,2,3],v=>o("g",{key:v},[(V(),k(E,null,M([0,1,2,3],s=>o("g",{key:v+"_"+s},[r.value?(V(),k("foreignObject",{key:0,x:"32",y:48+40*s+168*v,width:152,height:32},[o("select",{style:{height:"100%",width:"100%"},value:g[s+v*4].value,onInput:a=>g[s+v*4].value=+a.target.value},[(V(!0),k(E,null,M(m.value,(a,x)=>(V(),k("option",{key:a.name,value:x},P(a.name),9,Ne))),128))],40,Re)],8,Ae)):(V(),oe(W,{key:1,x:32,y:48+40*s+168*v,id:`rom_inst_${s+v*4}`,ref_for:!0,ref_key:"ref_inst",ref:t,"model-value":g[s+v*4].value,"onUpdate:modelValue":a=>g[s+v*4].value=a,onKeydown:[F(C(a=>u.value[s+v*4].doFocus(3),["stop"]),["right"]),F(C(a=>n.value[(s+v*4+15)%16].doFocus(),["stop"]),["left"])],onUp:a=>t.value[(s+v*4+15)%16].doFocus(a),onDown:a=>t.value[(s+v*4+1)%16].doFocus(a)},null,8,["y","id","model-value","onUpdate:modelValue","onKeydown","onUp","onDown"])),l(W,{x:200,y:48+40*s+168*v,ref_for:!0,ref_key:"ref_addr",ref:u,id:`rom_addr_${s+v*4}`,"model-value":S[s+v*4].value,"onUpdate:modelValue":a=>S[s+v*4].value=a,onKeydown:[F(C(a=>n.value[s+v*4].doFocus(3),["stop"]),["right"]),F(C(a=>t.value[s+v*4].doFocus(),["stop"]),["left"])],onUp:a=>u.value[(s+v*4+15)%16].doFocus(a),onDown:a=>u.value[(s+v*4+1)%16].doFocus(a)},null,8,["y","id","model-value","onUpdate:modelValue","onKeydown","onUp","onDown"]),l(W,{x:368,y:48+40*s+168*v,ref_for:!0,ref_key:"ref_data",ref:n,id:`rom_data_${s+v*4}`,"model-value":U[s+v*4].value,"onUpdate:modelValue":a=>U[s+v*4].value=a,onKeydown:[F(C(a=>t.value[(s+v*4+1)%16].doFocus(3),["stop"]),["right"]),F(C(a=>u.value[s+v*4].doFocus(),["stop"]),["left"])],onUp:a=>n.value[(s+v*4+15)%16].doFocus(a),onDown:a=>n.value[(s+v*4+1)%16].doFocus(a)},null,8,["y","id","model-value","onUpdate:modelValue","onKeydown","onUp","onDown"])])),64))])),64))]))}}),De=O(Ie,[["__scopeId","data-v-63b04b43"]]),ze=N({__name:"JumpManager",setup(e){return(t,u)=>(V(),k("g",{id:"jmpManager",style:I(p(te)(912,432))},u[0]||(u[0]=[o("rect",{class:"component-bg",width:"56",height:"56",x:"0",y:"0"},null,-1),o("text",{class:"component-label",x:"28",y:"28","text-anchor":"middle","dominant-baseline":"central"}," JP ",-1)]),4))}}),Oe={id:"pc",style:{transform:"translate(704px, 632px)"}},Ke=N({__name:"ProgramCounter",props:{jump:{type:Boolean,required:!0},modelValue:{type:Number,required:!0}},emits:["update:modelValue"],setup(e){return(t,u)=>(V(),k("g",Oe,[u[1]||(u[1]=o("rect",{class:"component-bg",width:"168",height:"136",x:"0",y:"0"},null,-1)),u[2]||(u[2]=o("text",{class:"component-label",x:"8",y:"40"}," PC ",-1)),l(W,{x:8,y:56,"model-value":e.modelValue,"onUpdate:modelValue":u[0]||(u[0]=n=>t.$emit("update:modelValue",n))},null,8,["model-value"]),l(G,{dir:"up",value:!e.jump,x:24,y:98},null,8,["value"]),l(G,{dir:"up",value:e.jump,x:120,y:98},null,8,["value"])]))}}),Ee={class:"component-label",x:"8",y:"40"},Y=N({__name:"DataRegister",props:J({x:{type:Number,required:!0},y:{type:Number,required:!0},name:{type:String,required:!0},commandRead:{type:Boolean,required:!0},commandWrite:{type:Boolean,required:!0}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=j(e,"modelValue");return(u,n)=>(V(),k("g",{style:I(`transform: translate(${e.x}px, ${e.y}px)`)},[n[1]||(n[1]=o("rect",{class:"component-bg",width:"168",height:"96",x:"0",y:"0"},null,-1)),l(W,{x:8,y:56,modelValue:t.value,"onUpdate:modelValue":n[0]||(n[0]=w=>t.value=w)},null,8,["modelValue"]),o("text",Ee,P(e.name),1),o("text",{class:z(["component-port-label",{active:e.commandRead}]),x:"154",y:"28"}," R ",2),o("text",{class:z(["component-port-label",{active:e.commandWrite}]),x:"154",y:"12"}," W ",2)],4))}}),Me={"xmlns:svg":"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1920 1080",version:"1.1",height:"100%",width:"100%"},We=N({__name:"CPU",props:J({excerciseState:{type:Object},decoderState:{type:Object,required:!0}},{cpu:{required:!0},cpuModifiers:{}}),emits:["update:cpu"],setup(e){const t=j(e,"cpu"),u=R(null),n=R(null),w=R(null),i=R(null),f=R(null),r=R(null),g=R(null),S=[r,u,n,w,i,f,g];function U(D,d){if(d.key==="PageUp"||d.key==="PageDown"){const b=d.key==="PageUp"?S.length-1:1,H=S.findIndex(le=>le.value===D);if(H===-1)return;S[(H+b)%S.length]?.value?.doFocus(),d.preventDefault(),d.stopPropagation()}}const m=$(()=>{const D=y.getStage(t.value);return y.getLastDecodedGates(t.value,D)}),h=$(()=>y.getInstructionsAddr(t.value,y.getPc(t.value))),c=$(()=>y.getDataBus(t.value)),v=$(()=>ne(m.value)),s=$({get(){return y.getRegA(t.value)},set(D){t.value=K(t.value,d=>{y.setRegA(d,D)})}}),a=$({get(){return y.getRegB(t.value)},set(D){t.value=K(t.value,d=>{y.setRegB(d,D)})}}),x=$({get(){return y.getPc(t.value)},set(D){t.value=K(t.value,d=>{y.setPc(d,D)})}}),Q=$({get(){return y.getFlagO(t.value)},set(D){t.value=K(t.value,d=>{y.setFlagO(d,D)})}}),X=$({get(){return y.getFlagZ(t.value)},set(D){t.value=K(t.value,d=>{y.setFlagZ(d,D)})}});return(D,d)=>(V(),k("svg",Me,[o("g",null,[d[15]||(d[15]=o("text",{x:"4",y:"1008",id:"databus_label"},"Data",-1)),l(A,{id:"main_data_bus",x:0,y:1016,value:c.value,dir:"horizontal",length:1920},null,8,["value"]),d[16]||(d[16]=o("text",{x:"8",y:"904",id:"addressbus_label"},"Address",-1)),l(A,{id:"main_address_bus",x:0,y:912,value:h.value,dir:"horizontal",length:1920},null,8,["value"]),l(A,{id:"program_out_address",x:264,y:856,value:h.value,dir:"vertical",length:112,taperedEnd:""},null,8,["value"]),l(A,{id:"program_out_data",x:432,y:856,value:c.value,dir:"vertical",length:216,taperedEnd:""},null,8,["value"]),l(A,{id:"pc_in_address",x:808,y:768,value:h.value,dir:"vertical",length:200,taperedEnd:""},null,8,["value"]),l(A,{id:"incrementor_bus",x:576,y:776,value:x.value+1,dir:"horizontal",length:192,taperedStart:"",taperedEnd:""},null,8,["value"]),l(A,{id:"incrementor_out",x:576,y:768,value:x.value+1,dir:"vertical",length:64,taperedEnd:""},null,8,["value"]),l(A,{id:"pc_incrementor_in",x:712,y:768,value:x.value+1,dir:"vertical",length:64,taperedEnd:""},null,8,["value"]),l(A,{id:"pc_bus",x:552,y:640,value:x.value,dir:"horizontal",length:152},null,8,["value"]),l(A,{id:"incrementor_in",x:576,y:640,value:x.value,dir:"vertical",length:80,taperedStart:""},null,8,["value"]),l(A,{id:"alu_out",x:1144,y:592,value:c.value,dir:"vertical",length:480,taperedEnd:""},null,8,["value"]),l(A,{id:"databus_registers_ext",x:1568,y:200,value:c.value,dir:"vertical",length:872,taperedStart:"",taperedEnd:""},null,8,["value"]),l(A,{id:"databus_registers",x:1040,y:200,value:c.value,dir:"horizontal",length:582,taperedStart:"",taperedEnd:""},null,8,["value"]),l(A,{id:"register_A_in",x:1040,y:200,value:c.value,dir:"vertical",length:64,taperedStart:""},null,8,["value"]),l(A,{id:"register_B_in",x:1248,y:200,value:c.value,dir:"vertical",length:64,taperedStart:""},null,8,["value"]),l(B,{dir:"horizontal",length:16,value:p(y).getFlagZ(t.value),x:968,y:448},null,8,["value"]),l(B,{dir:"horizontal",length:16,value:p(y).getFlagO(t.value),x:968,y:464},null,8,["value"]),l(B,{length:264,x:936,y:488,dir:"vertical",value:!1}),l(B,{length:72,x:872,y:744,dir:"horizontal",value:!1}),l(B,{length:328,x:920,y:104,dir:"vertical",value:!!(m.value&p(q).JN)},null,8,["value"]),l(B,{length:328,x:936,y:104,dir:"vertical",value:!!(m.value&p(q).JZ)},null,8,["value"]),l(B,{length:328,x:952,y:104,dir:"vertical",value:!!(m.value&p(q).JO)},null,8,["value"]),l(B,{dir:"horizontal",value:!!(m.value&p(q).AW),length:16,x:1152,y:272},null,8,["value"]),l(B,{dir:"vertical",value:!!(m.value&p(q).AW),length:176,x:1160,y:104},null,8,["value"]),l(B,{dir:"horizontal",value:!!(m.value&p(q).AR),length:32,x:1152,y:288},null,8,["value"]),l(B,{dir:"vertical",value:!!(m.value&p(q).AR),length:192,x:1176,y:104},null,8,["value"]),l(B,{dir:"horizontal",value:!!(m.value&p(q).BW),length:16,x:1360,y:272},null,8,["value"]),l(B,{dir:"vertical",value:!!(m.value&p(q).BW),length:176,x:1368,y:104},null,8,["value"]),l(B,{dir:"horizontal",value:!!(m.value&p(q).BR),length:32,x:1360,y:288},null,8,["value"]),l(B,{dir:"vertical",value:!!(m.value&p(q).BR),length:192,x:1384,y:104},null,8,["value"]),l(B,{dir:"horizontal",value:!!(m.value&p(q).RW),length:32,x:1672,y:856},null,8,["value"]),l(B,{dir:"vertical",value:!!(m.value&p(q).RW),length:760,x:1672,y:104},null,8,["value"]),l(B,{dir:"horizontal",value:!!(m.value&p(q).RR),length:48,x:1656,y:872},null,8,["value"]),l(B,{dir:"vertical",value:!!(m.value&p(q).RR),length:776,x:1656,y:104},null,8,["value"]),l(A,{dir:"vertical",length:32,value:p(y).getInstructionsOp(t.value,x.value),x:96,y:104},null,8,["value"]),l(B,{dir:"horizontal",value:!!(v.value&1),length:56,x:1360,y:416},null,8,["value"]),l(B,{dir:"vertical",value:!!(v.value&1),length:320,x:1408,y:104},null,8,["value"]),l(B,{dir:"horizontal",value:!!(v.value&2),length:72,x:1360,y:432},null,8,["value"]),l(B,{dir:"vertical",value:!!(v.value&2),length:336,x:1424,y:104},null,8,["value"]),l(A,{id:"ram_in_address",x:1840,y:856,value:h.value,dir:"vertical",length:112,taperedEnd:""},null,8,["value"]),l(A,{id:"databus_ram",x:1744,y:896,value:c.value,dir:"vertical",length:176,taperedEnd:""},null,8,["value"]),l(fe,{ref_key:"controlComp",ref:r,cpu:t.value,"onUpdate:cpu":d[0]||(d[0]=b=>t.value=b),"decoder-state":e.decoderState,onKeydown:d[1]||(d[1]=b=>U(r.value,b))},null,8,["cpu","decoder-state"]),l(De,{ref_key:"romComp",ref:u,cpu:t.value,"onUpdate:cpu":d[2]||(d[2]=b=>t.value=b),"decoder-state":e.decoderState,onKeydown:d[3]||(d[3]=b=>U(u.value,b))},null,8,["cpu","decoder-state"]),l(ke,{ref_key:"dataComp",ref:n,cpu:t.value,"onUpdate:cpu":d[4]||(d[4]=b=>t.value=b),onKeydown:d[5]||(d[5]=b=>U(n.value,b))},null,8,["cpu"]),l(Y,{id:"reg_a",name:"A",x:984,y:264,ref_key:"regAComp",ref:w,modelValue:s.value,"onUpdate:modelValue":d[6]||(d[6]=b=>s.value=b),"command-read":!!(m.value&p(q).AR),"command-write":!!(m.value&p(q).AW),onKeydown:d[7]||(d[7]=b=>U(w.value,b))},null,8,["modelValue","command-read","command-write"]),l(Y,{id:"reg_b",name:"B",x:1192,y:264,ref_key:"regBComp",ref:i,modelValue:a.value,"onUpdate:modelValue":d[8]||(d[8]=b=>a.value=b),"command-read":!!(m.value&p(q).BR),"command-write":!!(m.value&p(q).BW),onKeydown:d[9]||(d[9]=b=>U(i.value,b))},null,8,["modelValue","command-read","command-write"]),l(me,{id:"alu",ref_key:"aluComp",ref:f,select:v.value,"flag-o":Q.value,"onUpdate:flagO":d[10]||(d[10]=b=>Q.value=b),"flag-z":X.value,"onUpdate:flagZ":d[11]||(d[11]=b=>X.value=b),onKeydown:d[12]||(d[12]=b=>U(f.value,b))},null,8,["select","flag-o","flag-z"]),l(A,{id:"alu_in_A",dir:"vertical",length:40,x:1040,y:360,value:s.value},null,8,["value"]),l(A,{id:"alu_in_B",dir:"vertical",length:40,x:1248,y:360,value:a.value},null,8,["value"]),l(ze),l(Ke,{ref_key:"pcComp",ref:g,id:"program_counter",modelValue:x.value,"onUpdate:modelValue":d[13]||(d[13]=b=>x.value=b),jump:!1,onKeydown:d[14]||(d[14]=b=>U(g.value,b))},null,8,["modelValue"]),l(Be)])]))}}),Pe=O(We,[["__scopeId","data-v-390fa4db"]]);export{Pe as C};
