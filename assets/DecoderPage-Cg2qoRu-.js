import{Q as b}from"./QPage-B1NR2vct.js";import{G as o,u as p,a}from"./decoder-hAEFPFU1.js";import{d as v,c as _,Q as W,R as w,a0 as m,V as e,X as l,_ as i,F as c,U as r,$ as h,a6 as f}from"./index-CC1YTvc1.js";import"./render-Bl9N5OwX.js";const B=new Set([o.JN,o.JZ,o.JO,o.RR,o.RW,o.AR,o.AW,o.BR,o.BW,o.ALU1,o.ALU2]),F=["value","onInput"],A=["checked","onInput"],E=["checked","onInput"],Q=v({__name:"DecoderPage",setup(G){const y=Object.keys(o),k=_(()=>p().state),D=B,R={Fetch:a.Fetch,Decode:a.Decode,Read:a.Read,Execute:a.Execute,Write:a.Write};function M(u,n){const t=g();t.instructions[u].name=n,p().state=f(t)}function S(u,n,t){const s=g();t?s.instructions[u].gates|=n:s.instructions[u].gates&=~n,p().state=f(s)}function x(u,n,t){const s=g();t?s.timingMasks[u]|=n:s.timingMasks[u]&=~n,p().state=f(s)}function g(){const u=k.value;return{timingMasks:{[a.Fetch]:u.timingMasks[a.Fetch],[a.Decode]:u.timingMasks[a.Decode],[a.Read]:u.timingMasks[a.Read],[a.Execute]:u.timingMasks[a.Execute],[a.Write]:u.timingMasks[a.Write]},instructions:u.instructions.map(n=>({name:n.name,gates:n.gates}))}}return(u,n)=>(r(),W(m(b),{padding:""},{default:w(()=>[e("div",null,[n[2]||(n[2]=e("h2",null,"Decoder",-1)),e("table",null,[e("thead",null,[e("tr",null,[n[0]||(n[0]=e("th",null,"Instruction",-1)),(r(!0),l(c,null,i(m(y),t=>(r(),l("th",{key:t},h(t),1))),128))])]),e("tbody",null,[(r(),l(c,null,i(16,t=>e("tr",{key:t},[e("td",null,[e("input",{type:"text",value:k.value.instructions[t-1].name,onInput:s=>M(t-1,s.target.value)},null,40,F)]),(r(!0),l(c,null,i(m(D),s=>(r(),l("td",{key:s},[e("input",{type:"checkbox",checked:!!(k.value.instructions[t-1].gates&s),onInput:d=>S(t-1,s,d.target.checked)},null,40,A)]))),128))])),64))])]),n[3]||(n[3]=e("br",null,null,-1)),e("table",null,[e("thead",null,[e("tr",null,[n[1]||(n[1]=e("th",null,"Timing mask",-1)),(r(!0),l(c,null,i(m(y),t=>(r(),l("th",{key:t},h(t),1))),128))])]),e("tbody",null,[(r(),l(c,null,i(R,(t,s)=>e("tr",{key:s},[e("td",null,h(s),1),(r(!0),l(c,null,i(m(D),d=>(r(),l("td",{key:d},[e("input",{type:"checkbox",checked:!!(k.value.timingMasks[t]&d),onInput:I=>x(t,d,I.target.checked)},null,40,E)]))),128))])),64))])])])]),_:1}))}});export{Q as default};
