import{Q as bt,R as N}from"./QBtn-Whp1JK8M.js";import{k as j,c as v,h as q,r as L,l as Ge,o as ne,g as G,m as J,n as Ee,p as de,q as M,a as $e,t as V,w as C,u as ce,H as De,v as B,x as Ze,y as yt,z as wt,A as ye,B as we,C as re,D as ze,E as Ve,G as Ce,I as Ct,J as W,K as et,L as St,M as ae,b as qt,d as Tt,N as R,O as x,P as Lt,Q as F,f as H,R as xt,S as D}from"./index-DUKBsuaK.js";import{h as Pe,a as kt,b as Qe,c as zt}from"./render-BJ40gYlH.js";import{g as tt,a as ot,h as _t,b as Ae,s as Re,c as Et,u as $t,d as Pt,e as Bt,f as Mt,i as Ot,j as Ht,k as Dt,l as Vt,m as Se,Q as Qt,n as At,o as Rt,p as X}from"./selection-BBtsQUru.js";import{u as Fe}from"./decoder-SjOqAp2b.js";import{w as Ft,r as Wt}from"./readDecoder-CmVU6KVh.js";import{u as We}from"./cpu-Sb9A57q0.js";const Ut=j({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:i}){const l=v(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>q("div",{class:l.value},Pe(i.default))}});function Nt(){const e=L(!Ge.value);return e.value===!1&&ne(()=>{e.value=!0}),{isHydrated:e}}const nt=typeof ResizeObserver<"u",Ue=nt===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"},_e=j({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:i}){let l=null,a,t={width:-1,height:-1};function o(d){d===!0||e.debounce===0||e.debounce==="0"?n():l===null&&(l=setTimeout(n,e.debounce))}function n(){if(l!==null&&(clearTimeout(l),l=null),a){const{offsetWidth:d,offsetHeight:s}=a;(d!==t.width||s!==t.height)&&(t={width:d,height:s},i("resize",t))}}const{proxy:c}=G();if(c.trigger=o,nt===!0){let d;const s=u=>{a=c.$el.parentNode,a?(d=new ResizeObserver(o),d.observe(a),n()):u!==!0&&de(()=>{s(!0)})};return ne(()=>{s()}),J(()=>{l!==null&&clearTimeout(l),d!==void 0&&(d.disconnect!==void 0?d.disconnect():a&&d.unobserve(a))}),Ee}else{let d=function(){l!==null&&(clearTimeout(l),l=null),b!==void 0&&(b.removeEventListener!==void 0&&b.removeEventListener("resize",o,M.passive),b=void 0)},s=function(){d(),a?.contentDocument&&(b=a.contentDocument.defaultView,b.addEventListener("resize",o,M.passive),n())};const{isHydrated:u}=Nt();let b;return ne(()=>{de(()=>{a=c.$el,a&&s()})}),J(d),()=>{if(u.value===!0)return q("object",{class:"q--avoid-card-border",style:Ue.style,tabindex:-1,type:"text/html",data:Ue.url,"aria-hidden":"true",onLoad:s})}}}}),Xt=j({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:i,emit:l}){const{proxy:{$q:a}}=G(),t=$e(ce,V);if(t===V)return console.error("QHeader needs to be child of QLayout"),V;const o=L(parseInt(e.heightHint,10)),n=L(!0),c=v(()=>e.reveal===!0||t.view.value.indexOf("H")!==-1||a.platform.is.ios&&t.isContainer.value===!0),d=v(()=>{if(e.modelValue!==!0)return 0;if(c.value===!0)return n.value===!0?o.value:0;const f=o.value-t.scroll.value.position;return f>0?f:0}),s=v(()=>e.modelValue!==!0||c.value===!0&&n.value!==!0),u=v(()=>e.modelValue===!0&&s.value===!0&&e.reveal===!0),b=v(()=>"q-header q-layout__section--marginal "+(c.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(s.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),w=v(()=>{const f=t.rows.value.top,k={};return f[0]==="l"&&t.left.space===!0&&(k[a.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),f[2]==="r"&&t.right.space===!0&&(k[a.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),k});function m(f,k){t.update("header",f,k)}function h(f,k){f.value!==k&&(f.value=k)}function E({height:f}){h(o,f),m("size",f)}function T(f){u.value===!0&&h(n,!0),l("focusin",f)}C(()=>e.modelValue,f=>{m("space",f),h(n,!0),t.animate()}),C(d,f=>{m("offset",f)}),C(()=>e.reveal,f=>{f===!1&&h(n,e.modelValue)}),C(n,f=>{t.animate(),l("reveal",f)}),C(t.scroll,f=>{e.reveal===!0&&h(n,f.direction==="up"||f.position<=e.revealOffset||f.position-f.inflectionPoint<100)});const y={};return t.instances.header=y,e.modelValue===!0&&m("size",o.value),m("space",e.modelValue),m("offset",d.value),J(()=>{t.instances.header===y&&(t.instances.header=void 0,m("size",0),m("offset",0),m("space",!1))}),()=>{const f=kt(i.default,[]);return e.elevated===!0&&f.push(q("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),f.push(q(_e,{debounce:0,onResize:E})),q("header",{class:b.value,style:w.value,onFocusin:T},f)}}});function Yt(e,i,l){let a;function t(){a!==void 0&&(De.remove(a),a=void 0)}return J(()=>{e.value===!0&&t()}),{removeFromHistory:t,addToHistory(){a={condition:()=>l.value===!0,handler:i},De.add(a)}}}let te=0,qe,Te,oe,Le=!1,Ne,Xe,Ye,Y=null;function jt(e){It(e)&&Ze(e)}function It(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const i=yt(e),l=e.shiftKey&&!e.deltaX,a=!l&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),t=l||a?e.deltaY:e.deltaX;for(let o=0;o<i.length;o++){const n=i[o];if(_t(n,a))return a?t<0&&n.scrollTop===0?!0:t>0&&n.scrollTop+n.clientHeight===n.scrollHeight:t<0&&n.scrollLeft===0?!0:t>0&&n.scrollLeft+n.clientWidth===n.scrollWidth}return!0}function je(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function ue(e){Le!==!0&&(Le=!0,requestAnimationFrame(()=>{Le=!1;const{height:i}=e.target,{clientHeight:l,scrollTop:a}=document.scrollingElement;(oe===void 0||i!==window.innerHeight)&&(oe=l-i,document.scrollingElement.scrollTop=a),a>oe&&(document.scrollingElement.scrollTop-=Math.ceil((a-oe)/8))}))}function Ie(e){const i=document.body,l=window.visualViewport!==void 0;if(e==="add"){const{overflowY:a,overflowX:t}=window.getComputedStyle(i);qe=tt(window),Te=ot(window),Ne=i.style.left,Xe=i.style.top,Ye=window.location.href,i.style.left=`-${qe}px`,i.style.top=`-${Te}px`,t!=="hidden"&&(t==="scroll"||i.scrollWidth>window.innerWidth)&&i.classList.add("q-body--force-scrollbar-x"),a!=="hidden"&&(a==="scroll"||i.scrollHeight>window.innerHeight)&&i.classList.add("q-body--force-scrollbar-y"),i.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,B.is.ios===!0&&(l===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",ue,M.passiveCapture),window.visualViewport.addEventListener("scroll",ue,M.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",je,M.passiveCapture))}B.is.desktop===!0&&B.is.mac===!0&&window[`${e}EventListener`]("wheel",jt,M.notPassive),e==="remove"&&(B.is.ios===!0&&(l===!0?(window.visualViewport.removeEventListener("resize",ue,M.passiveCapture),window.visualViewport.removeEventListener("scroll",ue,M.passiveCapture)):window.removeEventListener("scroll",je,M.passiveCapture)),i.classList.remove("q-body--prevent-scroll"),i.classList.remove("q-body--force-scrollbar-x"),i.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,i.style.left=Ne,i.style.top=Xe,window.location.href===Ye&&window.scrollTo(qe,Te),oe=void 0)}function Kt(e){let i="add";if(e===!0){if(te++,Y!==null){clearTimeout(Y),Y=null;return}if(te>1)return}else{if(te===0||(te--,te>0))return;if(i="remove",B.is.ios===!0&&B.is.nativeMobile===!0){Y!==null&&clearTimeout(Y),Y=setTimeout(()=>{Ie(i),Y=null},100);return}}Ie(i)}function Jt(){let e;return{preventBodyScroll(i){i!==e&&(e!==void 0||i===!0)&&(e=i,Kt(i))}}}function xe(e,i,l){const a=ze(e);let t,o=a.left-i.event.x,n=a.top-i.event.y,c=Math.abs(o),d=Math.abs(n);const s=i.direction;s.horizontal===!0&&s.vertical!==!0?t=o<0?"left":"right":s.horizontal!==!0&&s.vertical===!0?t=n<0?"up":"down":s.up===!0&&n<0?(t="up",c>d&&(s.left===!0&&o<0?t="left":s.right===!0&&o>0&&(t="right"))):s.down===!0&&n>0?(t="down",c>d&&(s.left===!0&&o<0?t="left":s.right===!0&&o>0&&(t="right"))):s.left===!0&&o<0?(t="left",c<d&&(s.up===!0&&n<0?t="up":s.down===!0&&n>0&&(t="down"))):s.right===!0&&o>0&&(t="right",c<d&&(s.up===!0&&n<0?t="up":s.down===!0&&n>0&&(t="down")));let u=!1;if(t===void 0&&l===!1){if(i.event.isFirst===!0||i.event.lastDir===void 0)return{};t=i.event.lastDir,u=!0,t==="left"||t==="right"?(a.left-=o,c=0,o=0):(a.top-=n,d=0,n=0)}return{synthetic:u,payload:{evt:e,touch:i.event.mouse!==!0,mouse:i.event.mouse===!0,position:a,direction:t,isFirst:i.event.isFirst,isFinal:l===!0,duration:Date.now()-i.event.time,distance:{x:c,y:d},offset:{x:o,y:n},delta:{x:a.left-i.event.lastX,y:a.top-i.event.lastY}}}}let Gt=0;const ke=wt({name:"touch-pan",beforeMount(e,{value:i,modifiers:l}){if(l.mouse!==!0&&B.has.touch!==!0)return;function a(o,n){l.mouse===!0&&n===!0?Ze(o):(l.stop===!0&&Ce(o),l.prevent===!0&&Ve(o))}const t={uid:"qvtp_"+Gt++,handler:i,modifiers:l,direction:Ae(l),noop:Ee,mouseStart(o){Re(o,t)&&Ct(o)&&(re(t,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),t.start(o,!0))},touchStart(o){if(Re(o,t)){const n=o.target;re(t,"temp",[[n,"touchmove","move","notPassiveCapture"],[n,"touchcancel","end","passiveCapture"],[n,"touchend","end","passiveCapture"]]),t.start(o)}},start(o,n){if(B.is.firefox===!0&&we(e,!0),t.lastEvt=o,n===!0||l.stop===!0){if(t.direction.all!==!0&&(n!==!0||t.modifiers.mouseAllDir!==!0&&t.modifiers.mousealldir!==!0)){const s=o.type.indexOf("mouse")!==-1?new MouseEvent(o.type,o):new TouchEvent(o.type,o);o.defaultPrevented===!0&&Ve(s),o.cancelBubble===!0&&Ce(s),Object.assign(s,{qKeyEvent:o.qKeyEvent,qClickOutside:o.qClickOutside,qAnchorHandled:o.qAnchorHandled,qClonedBy:o.qClonedBy===void 0?[t.uid]:o.qClonedBy.concat(t.uid)}),t.initialEvent={target:o.target,event:s}}Ce(o)}const{left:c,top:d}=ze(o);t.event={x:c,y:d,time:Date.now(),mouse:n===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:c,lastY:d}},move(o){if(t.event===void 0)return;const n=ze(o),c=n.left-t.event.x,d=n.top-t.event.y;if(c===0&&d===0)return;t.lastEvt=o;const s=t.event.mouse===!0,u=()=>{a(o,s);let m;l.preserveCursor!==!0&&l.preservecursor!==!0&&(m=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),s===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Et(),t.styleCleanup=h=>{if(t.styleCleanup=void 0,m!==void 0&&(document.documentElement.style.cursor=m),document.body.classList.remove("non-selectable"),s===!0){const E=()=>{document.body.classList.remove("no-pointer-events--children")};h!==void 0?setTimeout(()=>{E(),h()},50):E()}else h!==void 0&&h()}};if(t.event.detected===!0){t.event.isFirst!==!0&&a(o,t.event.mouse);const{payload:m,synthetic:h}=xe(o,t,!1);m!==void 0&&(t.handler(m)===!1?t.end(o):(t.styleCleanup===void 0&&t.event.isFirst===!0&&u(),t.event.lastX=m.position.left,t.event.lastY=m.position.top,t.event.lastDir=h===!0?void 0:m.direction,t.event.isFirst=!1));return}if(t.direction.all===!0||s===!0&&(t.modifiers.mouseAllDir===!0||t.modifiers.mousealldir===!0)){u(),t.event.detected=!0,t.move(o);return}const b=Math.abs(c),w=Math.abs(d);b!==w&&(t.direction.horizontal===!0&&b>w||t.direction.vertical===!0&&b<w||t.direction.up===!0&&b<w&&d<0||t.direction.down===!0&&b<w&&d>0||t.direction.left===!0&&b>w&&c<0||t.direction.right===!0&&b>w&&c>0?(t.event.detected=!0,t.move(o)):t.end(o,!0))},end(o,n){if(t.event!==void 0){if(ye(t,"temp"),B.is.firefox===!0&&we(e,!1),n===!0)t.styleCleanup?.(),t.event.detected!==!0&&t.initialEvent!==void 0&&t.initialEvent.target.dispatchEvent(t.initialEvent.event);else if(t.event.detected===!0){t.event.isFirst===!0&&t.handler(xe(o===void 0?t.lastEvt:o,t).payload);const{payload:c}=xe(o===void 0?t.lastEvt:o,t,!0),d=()=>{t.handler(c)};t.styleCleanup!==void 0?t.styleCleanup(d):d()}t.event=void 0,t.initialEvent=void 0,t.lastEvt=void 0}}};if(e.__qtouchpan=t,l.mouse===!0){const o=l.mouseCapture===!0||l.mousecapture===!0?"Capture":"";re(t,"main",[[e,"mousedown","mouseStart",`passive${o}`]])}B.has.touch===!0&&re(t,"main",[[e,"touchstart","touchStart",`passive${l.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,i){const l=e.__qtouchpan;l!==void 0&&(i.oldValue!==i.value&&(typeof value!="function"&&l.end(),l.handler=i.value),l.direction=Ae(i.modifiers))},beforeUnmount(e){const i=e.__qtouchpan;i!==void 0&&(i.event!==void 0&&i.end(),ye(i,"main"),ye(i,"temp"),B.is.firefox===!0&&we(e,!1),i.styleCleanup?.(),delete e.__qtouchpan)}});function se(e,i,l){return l<=i?i:Math.min(l,Math.max(i,e))}const Ke=150,Zt=j({name:"QDrawer",inheritAttrs:!1,props:{...Bt,...Pt,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...$t,"onLayout","miniState"],setup(e,{slots:i,emit:l,attrs:a}){const t=G(),{proxy:{$q:o}}=t,n=Mt(e,o),{preventBodyScroll:c}=Jt(),{registerTimeout:d,removeTimeout:s}=Ot(),u=$e(ce,V);if(u===V)return console.error("QDrawer needs to be child of QLayout"),V;let b,w=null,m;const h=L(e.behavior==="mobile"||e.behavior!=="desktop"&&u.totalWidth.value<=e.breakpoint),E=v(()=>e.mini===!0&&h.value!==!0),T=v(()=>E.value===!0?e.miniWidth:e.width),y=L(e.showIfAbove===!0&&h.value===!1?!0:e.modelValue===!0),f=v(()=>e.persistent!==!0&&(h.value===!0||it.value===!0));function k(r,p){if($(),r!==!1&&u.animate(),P(0),h.value===!0){const _=u.instances[ie.value];_?.belowBreakpoint===!0&&_.hide(!1),Q(1),u.isContainer.value!==!0&&c(!0)}else Q(0),r!==!1&&pe(!1);d(()=>{r!==!1&&pe(!0),p!==!0&&l("show",r)},Ke)}function g(r,p){Z(),r!==!1&&u.animate(),Q(0),P(I.value*T.value),ge(),p!==!0?d(()=>{l("hide",r)},Ke):s()}const{show:S,hide:z}=Ht({showing:y,hideOnRouteChange:f,handleShow:k,handleHide:g}),{addToHistory:$,removeFromHistory:Z}=Yt(y,z,f),U={belowBreakpoint:h,hide:z},O=v(()=>e.side==="right"),I=v(()=>(o.lang.rtl===!0?-1:1)*(O.value===!0?1:-1)),Be=L(0),K=L(!1),fe=L(!1),Me=L(T.value*I.value),ie=v(()=>O.value===!0?"left":"right"),ve=v(()=>y.value===!0&&h.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:T.value:0),me=v(()=>e.overlay===!0||e.miniToOverlay===!0||u.view.value.indexOf(O.value?"R":"L")!==-1||o.platform.is.ios===!0&&u.isContainer.value===!0),ee=v(()=>e.overlay===!1&&y.value===!0&&h.value===!1),it=v(()=>e.overlay===!0&&y.value===!0&&h.value===!1),lt=v(()=>"fullscreen q-drawer__backdrop"+(y.value===!1&&K.value===!1?" hidden":"")),rt=v(()=>({backgroundColor:`rgba(0,0,0,${Be.value*.4})`})),Oe=v(()=>O.value===!0?u.rows.value.top[2]==="r":u.rows.value.top[0]==="l"),at=v(()=>O.value===!0?u.rows.value.bottom[2]==="r":u.rows.value.bottom[0]==="l"),ut=v(()=>{const r={};return u.header.space===!0&&Oe.value===!1&&(me.value===!0?r.top=`${u.header.offset}px`:u.header.space===!0&&(r.top=`${u.header.size}px`)),u.footer.space===!0&&at.value===!1&&(me.value===!0?r.bottom=`${u.footer.offset}px`:u.footer.space===!0&&(r.bottom=`${u.footer.size}px`)),r}),st=v(()=>{const r={width:`${T.value}px`,transform:`translateX(${Me.value}px)`};return h.value===!0?r:Object.assign(r,ut.value)}),dt=v(()=>"q-drawer__content fit "+(u.isContainer.value!==!0?"scroll":"overflow-auto")),ct=v(()=>`q-drawer q-drawer--${e.side}`+(fe.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(n.value===!0?" q-drawer--dark q-dark":"")+(K.value===!0?" no-transition":y.value===!0?"":" q-layout--prevent-focus")+(h.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${E.value===!0?"mini":"standard"}`+(me.value===!0||ee.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(Oe.value===!0?" q-drawer--top-padding":""))),ft=v(()=>{const r=o.lang.rtl===!0?e.side:ie.value;return[[ke,pt,void 0,{[r]:!0,mouse:!0}]]}),vt=v(()=>{const r=o.lang.rtl===!0?ie.value:e.side;return[[ke,He,void 0,{[r]:!0,mouse:!0}]]}),mt=v(()=>{const r=o.lang.rtl===!0?ie.value:e.side;return[[ke,He,void 0,{[r]:!0,mouse:!0,mouseAllDir:!0}]]});function he(){gt(h,e.behavior==="mobile"||e.behavior!=="desktop"&&u.totalWidth.value<=e.breakpoint)}C(h,r=>{r===!0?(b=y.value,y.value===!0&&z(!1)):e.overlay===!1&&e.behavior!=="mobile"&&b!==!1&&(y.value===!0?(P(0),Q(0),ge()):S(!1))}),C(()=>e.side,(r,p)=>{u.instances[p]===U&&(u.instances[p]=void 0,u[p].space=!1,u[p].offset=0),u.instances[r]=U,u[r].size=T.value,u[r].space=ee.value,u[r].offset=ve.value}),C(u.totalWidth,()=>{(u.isContainer.value===!0||document.qScrollPrevented!==!0)&&he()}),C(()=>e.behavior+e.breakpoint,he),C(u.isContainer,r=>{y.value===!0&&c(r!==!0),r===!0&&he()}),C(u.scrollbarWidth,()=>{P(y.value===!0?0:void 0)}),C(ve,r=>{A("offset",r)}),C(ee,r=>{l("onLayout",r),A("space",r)}),C(O,()=>{P()}),C(T,r=>{P(),be(e.miniToOverlay,r)}),C(()=>e.miniToOverlay,r=>{be(r,T.value)}),C(()=>o.lang.rtl,()=>{P()}),C(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(ht(),u.animate())}),C(E,r=>{l("miniState",r)});function P(r){r===void 0?de(()=>{r=y.value===!0?0:T.value,P(I.value*r)}):(u.isContainer.value===!0&&O.value===!0&&(h.value===!0||Math.abs(r)===T.value)&&(r+=I.value*u.scrollbarWidth.value),Me.value=r)}function Q(r){Be.value=r}function pe(r){const p=r===!0?"remove":u.isContainer.value!==!0?"add":"";p!==""&&document.body.classList[p]("q-body--drawer-toggle")}function ht(){w!==null&&clearTimeout(w),t.proxy&&t.proxy.$el&&t.proxy.$el.classList.add("q-drawer--mini-animate"),fe.value=!0,w=setTimeout(()=>{w=null,fe.value=!1,t?.proxy?.$el?.classList.remove("q-drawer--mini-animate")},150)}function pt(r){if(y.value!==!1)return;const p=T.value,_=se(r.distance.x,0,p);if(r.isFinal===!0){_>=Math.min(75,p)===!0?S():(u.animate(),Q(0),P(I.value*p)),K.value=!1;return}P((o.lang.rtl===!0?O.value!==!0:O.value)?Math.max(p-_,0):Math.min(0,_-p)),Q(se(_/p,0,1)),r.isFirst===!0&&(K.value=!0)}function He(r){if(y.value!==!0)return;const p=T.value,_=r.direction===e.side,le=(o.lang.rtl===!0?_!==!0:_)?se(r.distance.x,0,p):0;if(r.isFinal===!0){Math.abs(le)<Math.min(75,p)===!0?(u.animate(),Q(1),P(0)):z(),K.value=!1;return}P(I.value*le),Q(se(1-le/p,0,1)),r.isFirst===!0&&(K.value=!0)}function ge(){c(!1),pe(!0)}function A(r,p){u.update(e.side,r,p)}function gt(r,p){r.value!==p&&(r.value=p)}function be(r,p){A("size",r===!0?e.miniWidth:p)}return u.instances[e.side]=U,be(e.miniToOverlay,T.value),A("space",ee.value),A("offset",ve.value),e.showIfAbove===!0&&e.modelValue!==!0&&y.value===!0&&e["onUpdate:modelValue"]!==void 0&&l("update:modelValue",!0),ne(()=>{l("onLayout",ee.value),l("miniState",E.value),b=e.showIfAbove===!0;const r=()=>{(y.value===!0?k:g)(!1,!0)};if(u.totalWidth.value!==0){de(r);return}m=C(u.totalWidth,()=>{m(),m=void 0,y.value===!1&&e.showIfAbove===!0&&h.value===!1?S(!1):r()})}),J(()=>{m?.(),w!==null&&(clearTimeout(w),w=null),y.value===!0&&ge(),u.instances[e.side]===U&&(u.instances[e.side]=void 0,A("size",0),A("offset",0),A("space",!1))}),()=>{const r=[];h.value===!0&&(e.noSwipeOpen===!1&&r.push(W(q("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),ft.value)),r.push(Qe("div",{ref:"backdrop",class:lt.value,style:rt.value,"aria-hidden":"true",onClick:z},void 0,"backdrop",e.noSwipeBackdrop!==!0&&y.value===!0,()=>mt.value)));const p=E.value===!0&&i.mini!==void 0,_=[q("div",{...a,key:""+p,class:[dt.value,a.class]},p===!0?i.mini():Pe(i.default))];return e.elevated===!0&&y.value===!0&&_.push(q("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),r.push(Qe("aside",{ref:"content",class:ct.value,style:st.value},_,"contentclose",e.noSwipeClose!==!0&&h.value===!0,()=>vt.value)),q("div",{class:"q-drawer-container"},r)}}}),eo=j({name:"QPageContainer",setup(e,{slots:i}){const{proxy:{$q:l}}=G(),a=$e(ce,V);if(a===V)return console.error("QPageContainer needs to be child of QLayout"),V;et(St,!0);const t=v(()=>{const o={};return a.header.space===!0&&(o.paddingTop=`${a.header.size}px`),a.right.space===!0&&(o[`padding${l.lang.rtl===!0?"Left":"Right"}`]=`${a.right.size}px`),a.footer.space===!0&&(o.paddingBottom=`${a.footer.size}px`),a.left.space===!0&&(o[`padding${l.lang.rtl===!0?"Right":"Left"}`]=`${a.left.size}px`),o});return()=>q("div",{class:"q-page-container",style:t.value},Pe(i.default))}}),{passive:Je}=M,to=["both","horizontal","vertical"],oo=j({name:"QScrollObserver",props:{axis:{type:String,validator:e=>to.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:Dt},emits:["scroll"],setup(e,{emit:i}){const l={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let a=null,t,o;C(()=>e.scrollTarget,()=>{d(),c()});function n(){a?.();const b=Math.max(0,ot(t)),w=tt(t),m={top:b-l.position.top,left:w-l.position.left};if(e.axis==="vertical"&&m.top===0||e.axis==="horizontal"&&m.left===0)return;const h=Math.abs(m.top)>=Math.abs(m.left)?m.top<0?"up":"down":m.left<0?"left":"right";l.position={top:b,left:w},l.directionChanged=l.direction!==h,l.delta=m,l.directionChanged===!0&&(l.direction=h,l.inflectionPoint=l.position),i("scroll",{...l})}function c(){t=Vt(o,e.scrollTarget),t.addEventListener("scroll",s,Je),s(!0)}function d(){t!==void 0&&(t.removeEventListener("scroll",s,Je),t=void 0)}function s(b){if(b===!0||e.debounce===0||e.debounce==="0")n();else if(a===null){const[w,m]=e.debounce?[setTimeout(n,e.debounce),clearTimeout]:[requestAnimationFrame(n),cancelAnimationFrame];a=()=>{m(w),a=null}}}const{proxy:u}=G();return C(()=>u.$q.lang.rtl,n),ne(()=>{o=u.$el.parentNode,c()}),J(()=>{a?.(),d()}),Object.assign(u,{trigger:s,getPosition:()=>l}),Ee}}),no=j({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:i,emit:l}){const{proxy:{$q:a}}=G(),t=L(null),o=L(a.screen.height),n=L(e.container===!0?0:a.screen.width),c=L({position:0,direction:"down",inflectionPoint:0}),d=L(0),s=L(Ge.value===!0?0:Se()),u=v(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),b=v(()=>e.container===!1?{minHeight:a.screen.height+"px"}:null),w=v(()=>s.value!==0?{[a.lang.rtl===!0?"left":"right"]:`${s.value}px`}:null),m=v(()=>s.value!==0?{[a.lang.rtl===!0?"right":"left"]:0,[a.lang.rtl===!0?"left":"right"]:`-${s.value}px`,width:`calc(100% + ${s.value}px)`}:null);function h(g){if(e.container===!0||document.qScrollPrevented!==!0){const S={position:g.position.top,direction:g.direction,directionChanged:g.directionChanged,inflectionPoint:g.inflectionPoint.top,delta:g.delta.top};c.value=S,e.onScroll!==void 0&&l("scroll",S)}}function E(g){const{height:S,width:z}=g;let $=!1;o.value!==S&&($=!0,o.value=S,e.onScrollHeight!==void 0&&l("scrollHeight",S),y()),n.value!==z&&($=!0,n.value=z),$===!0&&e.onResize!==void 0&&l("resize",g)}function T({height:g}){d.value!==g&&(d.value=g,y())}function y(){if(e.container===!0){const g=o.value>d.value?Se():0;s.value!==g&&(s.value=g)}}let f=null;const k={instances:{},view:v(()=>e.view),isContainer:v(()=>e.container),rootRef:t,height:o,containerHeight:d,scrollbarWidth:s,totalWidth:v(()=>n.value+s.value),rows:v(()=>{const g=e.view.toLowerCase().split(" ");return{top:g[0].split(""),middle:g[1].split(""),bottom:g[2].split("")}}),header:ae({size:0,offset:0,space:!1}),right:ae({size:300,offset:0,space:!1}),footer:ae({size:0,offset:0,space:!1}),left:ae({size:300,offset:0,space:!1}),scroll:c,animate(){f!==null?clearTimeout(f):document.body.classList.add("q-body--layout-animate"),f=setTimeout(()=>{f=null,document.body.classList.remove("q-body--layout-animate")},155)},update(g,S,z){k[g][S]=z}};if(et(ce,k),Se()>0){let g=function(){$=null,Z.classList.remove("hide-scrollbar")},S=function(){if($===null){if(Z.scrollHeight>a.screen.height)return;Z.classList.add("hide-scrollbar")}else clearTimeout($);$=setTimeout(g,300)},z=function(U){$!==null&&U==="remove"&&(clearTimeout($),g()),window[`${U}EventListener`]("resize",S)},$=null;const Z=document.body;C(()=>e.container!==!0?"add":"remove",z),e.container!==!0&&z("add"),qt(()=>{z("remove")})}return()=>{const g=zt(i.default,[q(oo,{onScroll:h}),q(_e,{onResize:E})]),S=q("div",{class:u.value,style:b.value,ref:e.container===!0?void 0:t,tabindex:-1},g);return e.container===!0?q("div",{class:"q-layout-container overflow-hidden",ref:t},[q(_e,{onResize:T}),q("div",{class:"absolute-full",style:w.value},[q("div",{class:"scroll",style:m.value},[S])])]):S}}}),vo=Tt({__name:"MainLayout",setup(e){const i=L(!1);function l(){i.value=!i.value}function a(){const o=We().cpu,n=document.createElement("a"),c=URL.createObjectURL(new Blob([JSON.stringify({cpu:Array.from(o),decoder:Ft(Fe().state)})],{type:"application/json"})),d=new Date;n.setAttribute("download",`b4cpu_${d.getFullYear()}${d.getMonth()+1}${d.getDate()}${d.getHours()}${d.getMinutes()}.json`),n.setAttribute("href",c),document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(c)}function t(){console.log("load");const o=document.createElement("input");o.type="file",o.onchange=()=>{const n=o.files?.[0];if(!n)return;const c=new FileReader;c.onload=()=>{const d=JSON.parse(c.result),s=new Uint8Array(d.cpu);console.info(s),Fe().state=Wt(d.decoder),We().cpu=s},c.readAsText(n)},o.click()}return(o,n)=>{const c=Lt("router-view");return F(),R(no,{view:"Hhh Lpr lFf"},{default:x(()=>[H(Xt,{elevated:""},{default:x(()=>[H(Qt,null,{default:x(()=>[H(bt,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:l}),n[2]||(n[2]=xt("img",{src:"favicon.svg",alt:"B4CPU",width:"32",height:"32"},null,-1)),H(Ut,null,{default:x(()=>n[1]||(n[1]=[D(" B4CPU ")])),_:1,__:[1]})]),_:1,__:[2]})]),_:1}),H(Zt,{modelValue:i.value,"onUpdate:modelValue":n[0]||(n[0]=d=>i.value=d),bordered:""},{default:x(()=>[H(At,null,{default:x(()=>[H(Rt,{header:"",class:"text-grey-8"},{default:x(()=>n[3]||(n[3]=[D(" Menu ")])),_:1,__:[3]}),W((F(),R(X,{clickable:"",to:"/"},{default:x(()=>n[4]||(n[4]=[D(" CPU view ")])),_:1,__:[4]})),[[N]]),W((F(),R(X,{clickable:"",to:"/tutorial"},{default:x(()=>n[5]||(n[5]=[D(" Tutorial ")])),_:1,__:[5]})),[[N]]),W((F(),R(X,{clickable:"",onClick:a},{default:x(()=>n[6]||(n[6]=[D(" Save ")])),_:1,__:[6]})),[[N]]),W((F(),R(X,{clickable:"",onClick:t},{default:x(()=>n[7]||(n[7]=[D(" Load ")])),_:1,__:[7]})),[[N]]),W((F(),R(X,{clickable:"",to:"/decoder"},{default:x(()=>n[8]||(n[8]=[D(" Configure decoder ")])),_:1,__:[8]})),[[N]]),W((F(),R(X,{clickable:"",to:"/about"},{default:x(()=>n[9]||(n[9]=[D(" About ")])),_:1,__:[9]})),[[N]]),W((F(),R(X,{clickable:"",href:"https://github.com/edave64/b4CPU"},{default:x(()=>n[10]||(n[10]=[D(" Source code ")])),_:1,__:[10]})),[[N]])]),_:1})]),_:1},8,["modelValue"]),H(eo,null,{default:x(()=>[H(c)]),_:1})]),_:1})}}});export{vo as default};
