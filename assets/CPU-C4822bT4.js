import{Q as Y}from"./QPage-QNF1Tv4L.js";import{C as E,a as O,r as G,u as I}from"./cpu-59AcFufM.js";import{d as B,c as S,Y as f,U as g,V as n,Z as C,_ as U,F,$ as q,f as l,a0 as L,a1 as N,r as $,a2 as k,a3 as w,i as K,Q as P,L as H,a4 as _,a5 as ee,X as T,R as le}from"./index-D4FNymnm.js";import"./render-e9JswouT.js";const te={id:"alu",style:{transform:"translate(984px, 400px)"}},ae=1,ue=2,ne=3,oe=B({__name:"ALU",props:{select:{type:Number,required:!0},flagZ:{type:Boolean,required:!0},flagO:{type:Boolean,required:!0}},emits:["update:flagZ","update:flagO"],setup(e,{emit:r}){const u=e,d=r,y=S(()=>u.select===ae),m=S(()=>u.select===ue),s=S(()=>u.select===ne);return(v,i)=>(g(),f("g",te,[i[7]||(i[7]=n("path",{class:"component-bg",d:"m 0,0 h 376 v 104 l -88,88 h -200 l -88,-88 z"},null,-1)),n("g",{class:C({"alu-btn":!0,active:e.flagZ}),onClick:i[0]||(i[0]=b=>d("update:flagZ",!e.flagZ))},i[2]||(i[2]=[n("rect",{width:"32",height:"32",x:"8",y:"24",fill:"#000"},null,-1),n("text",{x:"24",y:"40"}," Z ",-1)]),2),n("g",{class:C({"alu-btn":!0,active:e.flagO}),onClick:i[1]||(i[1]=b=>d("update:flagO",!e.flagO))},i[3]||(i[3]=[n("rect",{width:"32",height:"32",x:"8",y:"64"},null,-1),n("text",{x:"24",y:"80"}," O ",-1)]),2),i[8]||(i[8]=n("text",{class:"component-label",x:"151",y:"41"}," ALU ",-1)),n("g",{class:C({"alu-btn":!0,active:y.value})},i[4]||(i[4]=[n("rect",{width:"64",height:"32",x:"88",y:"64"},null,-1),n("text",{x:"120",y:"80"}," AND ",-1)]),2),n("g",{class:C({"alu-btn":!0,active:m.value})},i[5]||(i[5]=[n("rect",{width:"64",height:"32",x:"160",y:"64"},null,-1),n("text",{x:"192",y:"80"}," ADD ",-1)]),2),n("g",{class:C({"alu-btn":!0,active:s.value})},i[6]||(i[6]=[n("rect",{width:"64",height:"32",x:"232",y:"64"},null,-1),n("text",{x:"264",y:"80"}," SUB ",-1)]),2)]))}}),D=(e,r)=>{const u=e.__vccOpts||e;for(const[d,y]of r)u[d]=y;return u},re=D(oe,[["__scopeId","data-v-573cae54"]]),de=["width","height","x","y"],se=B({__name:"BusLane",props:{x:Number,y:Number,dir:{required:!0,type:String},length:{required:!0,type:Number},value:Boolean},setup(e){const r=e,u=S(()=>r.dir==="vertical");return(d,y)=>(g(),f("rect",{class:C({active:e.value}),width:u.value?8:e.length,height:u.value?e.length:8,x:e.x??0,y:e.y??0},null,10,de))}}),x=D(se,[["__scopeId","data-v-68762ac2"]]),V=B({__name:"BusLanes",props:{x:Number,y:Number,dir:{required:!0,type:String},length:{required:!0,type:Number},taperedStart:{type:Boolean},taperedEnd:{type:Boolean},value:{required:!0,type:Number}},setup(e){const r=e,u=S(()=>r.dir==="vertical");function d(m){const s=1<<m;return{key:`lane_${m}`,get x(){if(u.value)return 16*(3-m);{let v=0;return r.taperedStart&&(v+=16*(3-m)),v}},get y(){if(u.value){let v=0;return r.taperedStart&&(v+=16*(3-m)),v}else return 16*(3-m)},get length(){const v=r.length;if(!r.taperedStart&&!r.taperedEnd)return v;if(r.taperedStart&&r.taperedEnd)return v-48;if(r.taperedStart&&!r.taperedEnd)return v-16*(3-m);if(!r.taperedStart&&r.taperedEnd)return v-48+16*(3-m)},get value(){return!!(r.value&s)},get dir(){return u.value?"vertical":"horizontal"}}}const y=[d(3),d(2),d(1),d(0)];return(m,s)=>(g(),f("g",{style:U({transform:"translate("+e.x+"px, "+e.y+"px)"})},[(g(),f(F,null,q(y,v=>l(x,{key:v.key,value:v.value,dir:e.dir,length:v.length,x:v.x,y:v.y},null,8,["value","dir","length","x","y"])),64))],4))}}),ve=B({__name:"StepIndicator",props:{x:{type:Number,required:!0},y:{type:Number,required:!0},label:{type:String,required:!0},active:{type:Boolean,required:!0}},setup(e){return(r,u)=>(g(),f("g",{style:U(`transform: translate(${e.x}px, ${e.y}px)`)},[u[0]||(u[0]=n("path",{d:"m 0,0 36,36 -36,36 h 192 l 36,-36 -36,-36 z"},null,-1)),n("text",{class:C(["component-label",{active:e.active}]),x:"116",y:"36"},L(e.label),3)],4))}}),z=D(ve,[["__scopeId","data-v-484a481a"]]),ie={id:"decoder_timer"},me=B({__name:"ControlUnit",props:{cpu:{type:E,required:!0}},setup(e,{expose:r}){const u=e;function d(){u.cpu.nextStage()}function y(){u.cpu.step()}return r({doFocus(){}}),(m,s)=>(g(),f("g",ie,[s[4]||(s[4]=n("rect",{class:"component-bg",width:"1888",height:"72",x:"16",y:"32"},null,-1)),s[5]||(s[5]=n("text",{class:"component-label",x:"45",y:"80"}," Decoder & Timer ",-1)),l(z,{x:336,y:32,label:"Fetch",active:e.cpu.stage===N(O).Fetch},null,8,["active"]),l(z,{x:544,y:32,label:"Decode",active:e.cpu.stage===N(O).Decode},null,8,["active"]),l(z,{x:752,y:32,label:"Read",active:e.cpu.stage===N(O).Read},null,8,["active"]),l(z,{x:960,y:32,label:"Execute",active:e.cpu.stage===N(O).Execute},null,8,["active"]),l(z,{x:1168,y:32,label:"Write",active:e.cpu.stage===N(O).Write},null,8,["active"]),n("g",{class:"btn",onClick:s[0]||(s[0]=v=>d()),style:{transform:"translate(1400px, 40px)"},tabindex:"0"},s[2]||(s[2]=[n("rect",{width:"56",height:"56",x:"0",y:"0"},null,-1),n("path",{d:"m 15,13 v 5 l 17,10 -17,10 v 5 l 27,-15 z"},null,-1)])),n("g",{class:"btn",onClick:s[1]||(s[1]=v=>y()),style:{transform:"translate(1464px, 40px)"},tabindex:"0"},s[3]||(s[3]=[n("rect",{width:"56",height:"56",x:"0",y:"0"},null,-1),n("path",{d:"m 16,43 0,-31 L 43,28 Z"},null,-1)])),s[6]||(s[6]=n("g",{class:"btn",style:{transform:"translate(1528px, 40px)"},tabindex:"0"},[n("rect",{width:"56",height:"56",x:"0",y:"0"}),n("path",{d:"M 6,13 V 43 L 24,33 V 43 L 50,28 23,13 V 23 Z"})],-1))]))}}),pe=D(me,[["__scopeId","data-v-543e8fc4"]]),ce={x:"16",y:"16",height:"32",width:"32"},ye=B({__name:"BitBtn",props:{x:Number,y:Number,modelValue:Boolean},emits:["update:modelValue"],setup(e,{expose:r,emit:u}){const d=$(null);r({doFocus(){const m=d.value;m&&m.focus()}});const y=u;return(m,s)=>(g(),f("g",{class:C({active:e.modelValue}),style:U({transform:"translate("+e.x+"px, "+e.y+"px)"}),onClick:s[0]||(s[0]=v=>y("update:modelValue",!e.modelValue)),onKeypress:s[1]||(s[1]=v=>y("update:modelValue",!e.modelValue)),tabindex:"0",ref_key:"focusTarget",ref:d},[s[2]||(s[2]=n("rect",{width:"32",height:"32"},null,-1)),n("text",ce,L(e.modelValue?"1":"0"),1)],38))}}),M=D(ye,[["__scopeId","data-v-bb6dead5"]]),W=B({__name:"WordBits",props:{x:Number,y:Number,modelValue:{type:Number,required:!0},blocked:{type:Boolean,default:!1}},emits:["update:modelValue","up","down"],setup(e,{expose:r,emit:u}){const d=e,y=u;function m(A){return S({get(){return!!(d.modelValue&A)},set(){d.blocked||y("update:modelValue",d.modelValue^A)}})}r({doFocus(A=0){c[A]?.value?.doFocus()}});const s=m(1),v=m(2),i=m(4),b=m(8),t=$(null),R=$(null),a=$(null),o=$(null),c=[o,a,R,t];return(A,p)=>(g(),f("g",{style:U({transform:"translate("+e.x+"px, "+e.y+"px)",opacity:e.blocked?.5:1})},[l(M,{modelValue:N(b),"onUpdate:modelValue":p[0]||(p[0]=h=>K(b)?b.value=h:null),x:0,y:0,style:U(e.blocked?"cursor: not-allowed":""),ref_key:"comp_bit3",ref:t,onKeydown:[p[1]||(p[1]=k(w(h=>R.value?.doFocus(),["stop"]),["right"])),p[2]||(p[2]=k(w(h=>A.$emit("down",3),["stop"]),["down"])),p[3]||(p[3]=k(w(h=>A.$emit("up",3),["stop"]),["up"]))]},null,8,["modelValue","style"]),l(M,{modelValue:N(i),"onUpdate:modelValue":p[4]||(p[4]=h=>K(i)?i.value=h:null),x:40,y:0,ref_key:"comp_bit2",ref:R,style:U(e.blocked?"cursor: not-allowed":""),onKeydown:[p[5]||(p[5]=k(w(h=>a.value?.doFocus(),["stop"]),["right"])),p[6]||(p[6]=k(w(h=>t.value?.doFocus(),["stop"]),["left"])),p[7]||(p[7]=k(w(h=>A.$emit("up",2),["stop"]),["up"])),p[8]||(p[8]=k(w(h=>A.$emit("down",2),["stop"]),["down"]))]},null,8,["modelValue","style"]),l(M,{modelValue:N(v),"onUpdate:modelValue":p[9]||(p[9]=h=>K(v)?v.value=h:null),x:80,y:0,ref_key:"comp_bit1",ref:a,style:U(e.blocked?"cursor: not-allowed":""),onKeydown:[p[10]||(p[10]=k(w(h=>o.value?.doFocus(),["stop"]),["right"])),p[11]||(p[11]=k(w(h=>R.value?.doFocus(),["stop"]),["left"])),p[12]||(p[12]=k(w(h=>A.$emit("up",1),["stop"]),["up"])),p[13]||(p[13]=k(w(h=>A.$emit("down",1),["stop"]),["down"]))]},null,8,["modelValue","style"]),l(M,{modelValue:N(s),"onUpdate:modelValue":p[14]||(p[14]=h=>K(s)?s.value=h:null),x:120,y:0,ref_key:"comp_bit0",ref:o,style:U(e.blocked?"cursor: not-allowed":""),onKeydown:[p[15]||(p[15]=k(w(h=>a.value?.doFocus(),["stop"]),["left"])),p[16]||(p[16]=k(w(h=>A.$emit("up",0),["stop"]),["up"])),p[17]||(p[17]=k(w(h=>A.$emit("down",0),["stop"]),["down"]))]},null,8,["modelValue","style"])],4))}}),ge=B({__name:"CounterArrow",props:{x:{required:!0,type:Number},y:{required:!0,type:Number}},setup(e){return(r,u)=>(g(),f("path",{d:"M 0 0 V 16 L 14 8 Z",style:U(`transform: translate(${e.x}px, ${e.y}px)`)},null,4))}}),Q=D(ge,[["__scopeId","data-v-326f9dde"]]),fe=B({__name:"DirectionArrow",props:{x:{required:!0,type:Number},y:{required:!0,type:Number},dir:{required:!0,type:String},value:{required:!0,type:Boolean}},setup(e){const r=e,u=S(()=>r.dir==="up"),d=S(()=>`transform: translate(${r.x}px,${r.y}px)`);return(y,m)=>u.value?(g(),f("path",{key:0,class:C({active:e.value}),style:U(d.value),d:"m 12,0 -12,14 h 8 v 16 h 8 v -16 h 8 z"},null,6)):(g(),f("path",{key:1,class:C({active:e.value}),style:U(d.value),d:"m 8,0 v 16 h -8 l 12,14 12,-14 h -8 v -16 z"},null,6))}}),Z=D(fe,[["__scopeId","data-v-08477ae3"]]),xe={id:"ram",style:{transform:"translate(1704px, 136px)"}},be=B({__name:"DataMemory",props:{cpu:{type:E,required:!0}},setup(e,{expose:r}){const u=e,d=$([]);r({doFocus(){d.value[0]?.doFocus(3)}});const y=S(()=>u.cpu.ram);return(m,s)=>(g(),f("g",xe,[s[0]||(s[0]=n("path",{class:"component-bg",d:"m 0,0 v 720 40 h 120 v -40 h 80 V 0 Z"},null,-1)),s[1]||(s[1]=n("text",{class:"component-label",x:"30",y:"40"}," RAM ",-1)),l(Q,{x:8,y:56+40*(e.cpu.address.value%4)+168*Math.floor(e.cpu.address.value/4)},null,8,["y"]),(g(),f(F,null,q([0,1,2,3],v=>n("g",{key:"data_"+v},[(g(),f(F,null,q([0,1,2,3],i=>n("g",{key:"data_"+v+"_"+i},[l(W,{x:32,y:48+40*i+168*v,ref_for:!0,ref_key:"dataComp",ref:d,modelValue:y.value[i+v*4],"onUpdate:modelValue":b=>y.value[i+v*4]=b,onUp:b=>d.value[(i+v*4+15)%16].doFocus(b),onDown:b=>d.value[(i+v*4+1)%16].doFocus(b),onKeydown:[k(w(b=>d.value[(i+v*4+1)%16].doFocus(3),["stop"]),["right"]),k(w(b=>d.value[(i+v*4+15)%16].doFocus(),["stop"]),["left"])]},null,8,["y","modelValue","onUpdate:modelValue","onUp","onDown","onKeydown"])])),64))])),64)),l(Z,{dir:"up",x:40,y:720,value:e.cpu.ramWrite},null,8,["value"]),l(Z,{dir:"down",x:72,y:720,value:e.cpu.ramRead},null,8,["value"])]))}});function X(e,r){return`transform: translate(${e}px, ${r}px)`}const ke=B({__name:"IncrementorUnit",setup(e){return(r,u)=>(g(),f("g",{id:"pc_incrementor",style:U(N(X)(568,720))},u[0]||(u[0]=[n("rect",{class:"component-bg",width:"72",height:"48",x:"0",y:"0"},null,-1),n("text",{class:"component-label",x:"36",y:"24","text-anchor":"middle","dominant-baseline":"central"}," +1 ",-1)]),4))}}),we=["width"],he=["width"],Ve=B({__name:"ToggleBtn",props:{x:Number,y:Number,width:Number,modelValue:Boolean,label:String},emits:["update:modelValue"],setup(e,{expose:r,emit:u}){const d=$(null);r({doFocus(){const m=d.value;m&&m.focus()}});const y=u;return(m,s)=>(g(),f("g",{class:C({active:e.modelValue}),style:U({transform:"translate("+e.x+"px, "+e.y+"px)"}),onClick:s[0]||(s[0]=v=>y("update:modelValue",!e.modelValue)),onKeypress:s[1]||(s[1]=v=>y("update:modelValue",!e.modelValue)),tabindex:"0",ref_key:"focusTarget",ref:d},[n("rect",{width:e.width,height:32},null,8,we),n("text",{x:"4",y:"16",height:"32",width:e.width,style:{"text-anchor":"start"}},L(e.label),9,he)],38))}}),$e=D(Ve,[["__scopeId","data-v-5a4b0916"]]),Be={id:"programm",style:{transform:"translate(16px, 136px)"}},Ae=["y"],Ue=["onUpdate:modelValue"],Se=["value"],Re=B({__name:"InstructionMemory",props:{cpu:{type:E,required:!0}},setup(e){const r=e,u=$([]),d=$([]),y=$([]),m=S(()=>r.cpu.instructionsOp),s=S(()=>r.cpu.instructionsAddr),v=S(()=>r.cpu.instructionsData),i=$(!1),b=S(()=>r.cpu.decoderState.instructions);return(t,R)=>(g(),f("g",Be,[R[1]||(R[1]=n("rect",{class:"component-bg",width:"536",height:"720",x:"0",y:"0"},null,-1)),R[2]||(R[2]=n("text",{class:"component-label",x:"30",y:"40"},"ROM",-1)),l(Q,{x:8,y:56+40*(e.cpu.pc.value%4)+168*Math.floor(e.cpu.pc.value/4)},null,8,["y"]),l($e,{x:370,y:8,width:150,label:i.value?"Ins":"Binary",modelValue:i.value,"onUpdate:modelValue":R[0]||(R[0]=a=>i.value=a)},null,8,["label","modelValue"]),(g(),f(F,null,q([0,1,2,3],a=>n("g",{key:a},[(g(),f(F,null,q([0,1,2,3],o=>n("g",{key:a+"_"+o},[i.value?(g(),f("foreignObject",{key:0,x:"32",y:48+40*o+168*a,width:152,height:32},[H(n("select",{style:{height:"100%",width:"100%"},"onUpdate:modelValue":c=>m.value[o+a*4]=c},[(g(!0),f(F,null,q(b.value,(c,A)=>(g(),f("option",{key:c.name,value:A},L(c.name),9,Se))),128))],8,Ue),[[_,m.value[o+a*4]]])],8,Ae)):(g(),P(W,{key:1,x:32,y:48+40*o+168*a,ref_for:!0,ref_key:"ref_inst",ref:u,modelValue:m.value[o+a*4],"onUpdate:modelValue":c=>m.value[o+a*4]=c,onKeydown:[k(w(c=>d.value[o+a*4].doFocus(3),["stop"]),["right"]),k(w(c=>y.value[(o+a*4+15)%16].doFocus(),["stop"]),["left"])],onUp:c=>u.value[(o+a*4+15)%16].doFocus(c),onDown:c=>u.value[(o+a*4+1)%16].doFocus(c)},null,8,["y","modelValue","onUpdate:modelValue","onKeydown","onUp","onDown"])),l(W,{x:200,y:48+40*o+168*a,ref_for:!0,ref_key:"ref_addr",ref:d,modelValue:s.value[o+a*4],"onUpdate:modelValue":c=>s.value[o+a*4]=c,onKeydown:[k(w(c=>y.value[o+a*4].doFocus(3),["stop"]),["right"]),k(w(c=>u.value[o+a*4].doFocus(),["stop"]),["left"])],onUp:c=>d.value[(o+a*4+15)%16].doFocus(c),onDown:c=>d.value[(o+a*4+1)%16].doFocus(c)},null,8,["y","modelValue","onUpdate:modelValue","onKeydown","onUp","onDown"]),l(W,{x:368,y:48+40*o+168*a,ref_for:!0,ref_key:"ref_data",ref:y,modelValue:v.value[o+a*4],"onUpdate:modelValue":c=>v.value[o+a*4]=c,onKeydown:[k(w(c=>u.value[(o+a*4+1)%16].doFocus(3),["stop"]),["right"]),k(w(c=>d.value[o+a*4].doFocus(),["stop"]),["left"])],onUp:c=>y.value[(o+a*4+15)%16].doFocus(c),onDown:c=>y.value[(o+a*4+1)%16].doFocus(c)},null,8,["y","modelValue","onUpdate:modelValue","onKeydown","onUp","onDown"])])),64))])),64))]))}}),Ce=D(Re,[["__scopeId","data-v-711027e9"]]),Ne=B({__name:"JumpManager",setup(e){return(r,u)=>(g(),f("g",{id:"jmpManager",style:U(N(X)(912,432))},u[0]||(u[0]=[n("rect",{class:"component-bg",width:"56",height:"56",x:"0",y:"0"},null,-1),n("text",{class:"component-label",x:"28",y:"28","text-anchor":"middle","dominant-baseline":"central"}," JP ",-1)]),4))}}),De={id:"pc",style:{transform:"translate(704px, 632px)"}},Fe=B({__name:"ProgramCounter",props:{jump:{type:Boolean,required:!0},modelValue:{type:Number,required:!0}},emits:["update:modelValue"],setup(e){return(r,u)=>(g(),f("g",De,[u[1]||(u[1]=n("rect",{class:"component-bg",width:"168",height:"136",x:"0",y:"0"},null,-1)),u[2]||(u[2]=n("text",{class:"component-label",x:"8",y:"40"}," PC ",-1)),l(W,{x:8,y:56,"model-value":e.modelValue,"onUpdate:modelValue":u[0]||(u[0]=d=>r.$emit("update:modelValue",d))},null,8,["model-value"]),l(Z,{dir:"up",value:!e.jump,x:24,y:98},null,8,["value"]),l(Z,{dir:"up",value:e.jump,x:120,y:98},null,8,["value"])]))}}),qe={class:"component-label",x:"8",y:"40"},J=B({__name:"DataRegister",props:{x:{type:Number,required:!0},y:{type:Number,required:!0},name:{type:String,required:!0},modelValue:{type:Number,required:!0},commandRead:{type:Boolean,required:!0},commandWrite:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(e){return(r,u)=>(g(),f("g",{style:U(`transform: translate(${e.x}px, ${e.y}px)`)},[u[1]||(u[1]=n("rect",{class:"component-bg",width:"168",height:"96",x:"0",y:"0"},null,-1)),l(W,{x:8,y:56,"model-value":e.modelValue,"onUpdate:modelValue":u[0]||(u[0]=d=>r.$emit("update:modelValue",d))},null,8,["model-value"]),n("text",qe,L(e.name),1),n("text",{class:C(["component-port-label",{active:e.commandRead}]),x:"154",y:"28"}," R ",2),n("text",{class:C(["component-port-label",{active:e.commandWrite}]),x:"154",y:"12"}," W ",2)],4))}}),We=[{name:"NOP",gates:[]},{name:"LD A",gates:["AW"]},{name:"LR A",gates:["AW","RR"]},{name:"LD B",gates:["BW"]},{name:"LR B",gates:["BW","RR"]},{name:"LD B, A",gates:["AR","BW"]},{name:"LD A, B",gates:["AW","BR"]},{name:"ST A",gates:["AR","RW"]},{name:"ST B",gates:["BR","RW"]},{name:"AND",gates:["AW","ALU1"]},{name:"ADD",gates:["AW","ALU2"]},{name:"SUB",gates:["AW","ALU1","ALU2"]},{name:"JMP",gates:["JN"]},{name:"JMZ",gates:["JZ"]},{name:"JMO",gates:["JO"]},{name:"JNZ",gates:["JN","JZ"]}],Oe={fetch:["JN","JZ","JO"],decode:[],read:["AR","BR","RR"],exec:["AR","BR","RR","ALU1","ALU2"],write:["AR","BR","RR","ALU1","ALU2","AW","BW","RW"]},ze={instructions:We,timingMasks:Oe},Le=G(ze),Ke=ee("decoder",{state:()=>({state:T(Le)})}),Me={"xmlns:svg":"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1920 1080",version:"1.1",height:"100%",width:"100%"},Ze=B({__name:"CPU",props:{excerciseState:{type:Object,required:!0}},setup(e){const r=$(null),u=$(null),d=$(null),y=$(null),m=$(null),s=$(null),v=$(null),i=[s,r,u,d,y,m,v];function b(R,a){if(a.key==="PageUp"||a.key==="PageDown"){const o=a.key==="PageUp"?i.length-1:1,c=i.findIndex(A=>A.value===R);if(c===-1)return;i[(c+o)%i.length]?.value?.doFocus(),a.preventDefault(),a.stopPropagation()}}I().cpu??=T(new E(Ke().state));const t=S(()=>I().cpu);return(R,a)=>(g(),f("svg",Me,[n("g",null,[a[12]||(a[12]=n("text",{x:"4",y:"1008",id:"databus_label"},"Data",-1)),l(V,{id:"main_data_bus",x:0,y:1016,value:t.value.data.value,dir:"horizontal",length:1920},null,8,["value"]),a[13]||(a[13]=n("text",{x:"8",y:"904",id:"addressbus_label"},"Address",-1)),l(V,{id:"main_address_bus",x:0,y:912,value:t.value.address.value,dir:"horizontal",length:1920},null,8,["value"]),l(V,{id:"program_out_address",x:264,y:856,value:t.value.address.value,dir:"vertical",length:112,taperedEnd:""},null,8,["value"]),l(V,{id:"program_out_data",x:432,y:856,value:t.value.data.value,dir:"vertical",length:216,taperedEnd:""},null,8,["value"]),l(V,{id:"pc_in_address",x:808,y:768,value:t.value.address.value,dir:"vertical",length:200,taperedEnd:""},null,8,["value"]),l(V,{id:"incrementor_bus",x:576,y:776,value:t.value.pc.value+1,dir:"horizontal",length:192,taperedStart:"",taperedEnd:""},null,8,["value"]),l(V,{id:"incrementor_out",x:576,y:768,value:t.value.pc.value+1,dir:"vertical",length:64,taperedEnd:""},null,8,["value"]),l(V,{id:"pc_incrementor_in",x:712,y:768,value:t.value.pc.value+1,dir:"vertical",length:64,taperedEnd:""},null,8,["value"]),l(V,{id:"pc_bus",x:552,y:640,value:t.value.pc.value,dir:"horizontal",length:152},null,8,["value"]),l(V,{id:"incrementor_in",x:576,y:640,value:t.value.pc.value,dir:"vertical",length:80,taperedStart:""},null,8,["value"]),l(V,{id:"alu_out",x:1144,y:592,value:t.value.data.value,dir:"vertical",length:480,taperedEnd:""},null,8,["value"]),l(V,{id:"databus_registers_ext",x:1568,y:200,value:t.value.data.value,dir:"vertical",length:872,taperedStart:"",taperedEnd:""},null,8,["value"]),l(V,{id:"databus_registers",x:1040,y:200,value:t.value.data.value,dir:"horizontal",length:582,taperedStart:"",taperedEnd:""},null,8,["value"]),l(V,{id:"register_A_in",x:1040,y:200,value:t.value.data.value,dir:"vertical",length:64,taperedStart:""},null,8,["value"]),l(V,{id:"register_B_in",x:1248,y:200,value:t.value.data.value,dir:"vertical",length:64,taperedStart:""},null,8,["value"]),l(x,{dir:"horizontal",length:16,value:t.value.flagZ.value,x:968,y:448},null,8,["value"]),l(x,{dir:"horizontal",length:16,value:t.value.flagO.value,x:968,y:464},null,8,["value"]),l(x,{length:264,x:936,y:488,dir:"vertical",value:t.value.pcJump},null,8,["value"]),l(x,{length:72,x:872,y:744,dir:"horizontal",value:t.value.pcJump},null,8,["value"]),l(x,{length:328,x:920,y:104,dir:"vertical",value:t.value.jmpNot},null,8,["value"]),l(x,{length:328,x:936,y:104,dir:"vertical",value:t.value.jmpZero},null,8,["value"]),l(x,{length:328,x:952,y:104,dir:"vertical",value:t.value.jmpOverflow},null,8,["value"]),l(x,{dir:"horizontal",value:t.value.regAWrite,length:16,x:1152,y:272},null,8,["value"]),l(x,{dir:"vertical",value:t.value.regAWrite,length:176,x:1160,y:104},null,8,["value"]),l(x,{dir:"horizontal",value:t.value.regARead,length:32,x:1152,y:288},null,8,["value"]),l(x,{dir:"vertical",value:t.value.regARead,length:192,x:1176,y:104},null,8,["value"]),l(x,{dir:"horizontal",value:t.value.regBWrite,length:16,x:1360,y:272},null,8,["value"]),l(x,{dir:"vertical",value:t.value.regBWrite,length:176,x:1368,y:104},null,8,["value"]),l(x,{dir:"horizontal",value:t.value.regBRead,length:32,x:1360,y:288},null,8,["value"]),l(x,{dir:"vertical",value:t.value.regBRead,length:192,x:1384,y:104},null,8,["value"]),l(x,{dir:"horizontal",value:t.value.ramWrite,length:32,x:1672,y:856},null,8,["value"]),l(x,{dir:"vertical",value:t.value.ramWrite,length:760,x:1672,y:104},null,8,["value"]),l(x,{dir:"horizontal",value:t.value.ramRead,length:48,x:1656,y:872},null,8,["value"]),l(x,{dir:"vertical",value:t.value.ramRead,length:776,x:1656,y:104},null,8,["value"]),l(V,{dir:"vertical",length:32,value:t.value.instructionsOp[t.value.pc.value],x:96,y:104},null,8,["value"]),l(x,{dir:"horizontal",value:!!(t.value.aluOp&1),length:56,x:1360,y:416},null,8,["value"]),l(x,{dir:"vertical",value:!!(t.value.aluOp&1),length:320,x:1408,y:104},null,8,["value"]),l(x,{dir:"horizontal",value:!!(t.value.aluOp&2),length:72,x:1360,y:432},null,8,["value"]),l(x,{dir:"vertical",value:!!(t.value.aluOp&2),length:336,x:1424,y:104},null,8,["value"]),l(V,{id:"ram_in_address",x:1840,y:856,value:t.value.address.value,dir:"vertical",length:112,taperedEnd:""},null,8,["value"]),l(V,{id:"databus_ram",x:1744,y:896,value:t.value.data.value,dir:"vertical",length:176,taperedEnd:""},null,8,["value"]),l(pe,{ref_key:"controlComp",ref:s,cpu:t.value,onKeydown:a[0]||(a[0]=o=>b(s.value,o))},null,8,["cpu"]),l(Ce,{ref_key:"romComp",ref:r,cpu:t.value,onKeydown:a[1]||(a[1]=o=>b(r.value,o))},null,8,["cpu"]),l(be,{ref_key:"dataComp",ref:u,cpu:t.value,onKeydown:a[2]||(a[2]=o=>b(u.value,o))},null,8,["cpu"]),l(J,{name:"A",x:984,y:264,ref_key:"regAComp",ref:d,modelValue:t.value.regA.value,"onUpdate:modelValue":a[3]||(a[3]=o=>t.value.regA.value=o),"command-read":t.value.regARead,"command-write":t.value.regAWrite,onKeydown:a[4]||(a[4]=o=>b(d.value,o))},null,8,["modelValue","command-read","command-write"]),l(J,{name:"B",x:1192,y:264,ref_key:"regBComp",ref:y,modelValue:t.value.regB.value,"onUpdate:modelValue":a[5]||(a[5]=o=>t.value.regB.value=o),"command-read":t.value.regBRead,"command-write":t.value.regBWrite,onKeydown:a[6]||(a[6]=o=>b(y.value,o))},null,8,["modelValue","command-read","command-write"]),l(re,{ref_key:"aluComp",ref:m,select:t.value.aluOp,"flag-z":t.value.flagZ.value,"onUpdate:flagZ":a[7]||(a[7]=o=>t.value.flagZ.value=o),"flag-o":t.value.flagO.value,"onUpdate:flagO":a[8]||(a[8]=o=>t.value.flagO.value=o),onKeydown:a[9]||(a[9]=o=>b(m.value,o))},null,8,["select","flag-z","flag-o"]),l(V,{id:"alu_in_A",dir:"vertical",length:40,x:1040,y:360,value:t.value.regA.value},null,8,["value"]),l(V,{id:"alu_in_B",dir:"vertical",length:40,x:1248,y:360,value:t.value.regB.value},null,8,["value"]),l(Ne),l(Fe,{ref_key:"pcComp",ref:v,modelValue:t.value.pc.value,"onUpdate:modelValue":a[10]||(a[10]=o=>t.value.pc.value=o),jump:t.value.pcJump,onKeydown:a[11]||(a[11]=o=>b(v.value,o))},null,8,["modelValue","jump"]),l(ke)])]))}}),Ee=D(Ze,[["__scopeId","data-v-3ff027d0"]]),Ie={0:{value:1,blocked:!0},1:{value:1,blocked:!0},2:{value:0,blocked:!1},3:{value:0,blocked:!1},4:{value:0,blocked:!1},5:{value:0,blocked:!1},6:{value:0,blocked:!1},7:{value:0,blocked:!1},8:{value:0,blocked:!1},9:{value:0,blocked:!1},10:{value:3,blocked:!0},11:{value:0,blocked:!1},12:{value:0,blocked:!1},13:{value:0,blocked:!1},14:{value:0,blocked:!1},15:{value:0,blocked:!1}},Je={instructions:{0:{value:0,blocked:!1},1:{value:0,blocked:!1},2:{value:0,blocked:!1},3:{value:5,blocked:!0},4:{value:0,blocked:!1},5:{value:0,blocked:!1},6:{value:0,blocked:!1},7:{value:0,blocked:!1},8:{value:0,blocked:!1},9:{value:0,blocked:!1},10:{value:0,blocked:!1},11:{value:0,blocked:!1},12:{value:0,blocked:!1},13:{value:0,blocked:!1},14:{value:0,blocked:!1},15:{value:0,blocked:!1}},addresses:{0:{value:0,blocked:!1},1:{value:9,blocked:!0},2:{value:0,blocked:!1},3:{value:0,blocked:!1},4:{value:4,blocked:!1},5:{value:0,blocked:!1},6:{value:0,blocked:!1},7:{value:7,blocked:!0},8:{value:0,blocked:!1},9:{value:0,blocked:!1},10:{value:0,blocked:!1},11:{value:0,blocked:!1},12:{value:0,blocked:!1},13:{value:0,blocked:!1},14:{value:0,blocked:!1},15:{value:0,blocked:!1}},data:{0:{value:0,blocked:!1},1:{value:0,blocked:!1},2:{value:0,blocked:!1},3:{value:0,blocked:!1},4:{value:0,blocked:!1},5:{value:0,blocked:!1},6:{value:0,blocked:!1},7:{value:8,blocked:!1},8:{value:0,blocked:!1},9:{value:0,blocked:!1},10:{value:0,blocked:!1},11:{value:0,blocked:!1},12:{value:0,blocked:!1},13:{value:0,blocked:!1},14:{value:0,blocked:!1},15:{value:0,blocked:!1}}},j={dataMemoryState:Ie,instructionMemoryState:Je},Xe=B({__name:"CPU",setup(e){const r=S(()=>({dataMemoryState:j.dataMemoryState,instructionMemoryState:j.instructionMemoryState}));return(u,d)=>(g(),P(N(Y),{class:"row items-center justify-evenly"},{default:le(()=>[l(Ee,{excerciseState:r.value},null,8,["excerciseState"])]),_:1}))}});export{Xe as default};
