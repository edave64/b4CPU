import{Q as b}from"./QPage--qbdWb2G.js";import{G as r,C as o}from"./readDecoder-CmVU6KVh.js";import{u as p}from"./decoder-D8Sup-IR.js";import{d as v,c as W,N as _,O as w,U as m,R as e,V as l,W as i,F as c,Q as a,X as h,Y as f}from"./index-D3dTK4RZ.js";import"./render-BR8lyMUK.js";const B=new Set([r.JN,r.JZ,r.JO,r.RR,r.RW,r.AR,r.AW,r.BR,r.BW,r.ALU1,r.ALU2]),F=["value","onInput"],A=["checked","onInput"],E=["checked","onInput"],Q=v({__name:"DecoderPage",setup(C){const y=Object.keys(r),k=W(()=>p().state),D=B,R={Fetch:o.Fetch,Decode:o.Decode,Read:o.Read,Execute:o.Execute,Write:o.Write};function M(u,n){const t=g();t.instructions[u].name=n,p().state=f(t)}function S(u,n,t){const s=g();t?s.instructions[u].gates|=n:s.instructions[u].gates&=~n,p().state=f(s)}function x(u,n,t){const s=g();t?s.timingMasks[u]|=n:s.timingMasks[u]&=~n,p().state=f(s)}function g(){const u=k.value;return{timingMasks:{[o.Fetch]:u.timingMasks[o.Fetch],[o.Decode]:u.timingMasks[o.Decode],[o.Read]:u.timingMasks[o.Read],[o.Execute]:u.timingMasks[o.Execute],[o.Write]:u.timingMasks[o.Write]},instructions:u.instructions.map(n=>({name:n.name,gates:n.gates}))}}return(u,n)=>(a(),_(m(b),{padding:""},{default:w(()=>[e("div",null,[n[2]||(n[2]=e("h2",null,"Decoder",-1)),e("table",null,[e("thead",null,[e("tr",null,[n[0]||(n[0]=e("th",null,"Instruction",-1)),(a(!0),l(c,null,i(m(y),t=>(a(),l("th",{key:t},h(t),1))),128))])]),e("tbody",null,[(a(),l(c,null,i(16,t=>e("tr",{key:t},[e("td",null,[e("input",{type:"text",value:k.value.instructions[t-1].name,onInput:s=>M(t-1,s.target.value)},null,40,F)]),(a(!0),l(c,null,i(m(D),s=>(a(),l("td",{key:s},[e("input",{type:"checkbox",checked:!!(k.value.instructions[t-1].gates&s),onInput:d=>S(t-1,s,d.target.checked)},null,40,A)]))),128))])),64))])]),n[3]||(n[3]=e("br",null,null,-1)),e("table",null,[e("thead",null,[e("tr",null,[n[1]||(n[1]=e("th",null,"Timing mask",-1)),(a(!0),l(c,null,i(m(y),t=>(a(),l("th",{key:t},h(t),1))),128))])]),e("tbody",null,[(a(),l(c,null,i(R,(t,s)=>e("tr",{key:s},[e("td",null,h(s),1),(a(!0),l(c,null,i(m(D),d=>(a(),l("td",{key:d},[e("input",{type:"checkbox",checked:!!(k.value.timingMasks[t]&d),onInput:I=>x(t,d,I.target.checked)},null,40,E)]))),128))])),64))])])])]),_:1}))}});export{Q as default};
